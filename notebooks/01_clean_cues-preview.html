<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
    <meta charset="utf-8">
    <meta name="generator" content="quarto-1.7.32">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


    <title>Data cleaning and screening</title>
    <style>
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      div.columns{display: flex; gap: min(4vw, 1.5em);}
      div.column{flex: auto; overflow-x: auto;}
      div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
      ul.task-list{list-style: none;}
      ul.task-list li input[type="checkbox"] {
        width: 0.8em;
        margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
        vertical-align: middle;
      }
      /* CSS for syntax highlighting */
      html { -webkit-text-size-adjust: 100%; }
      pre > code.sourceCode { white-space: pre; position: relative; }
      pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
      pre > code.sourceCode > span:empty { height: 1.2em; }
      .sourceCode { overflow: visible; }
      code.sourceCode > span { color: inherit; text-decoration: inherit; }
      div.sourceCode { margin: 1em 0; }
      pre.sourceCode { margin: 0; }
      @media screen {
      div.sourceCode { overflow: auto; }
      }
      @media print {
      pre > code.sourceCode { white-space: pre-wrap; }
      pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
      }
      pre.numberSource code
        { counter-reset: source-line 0; }
      pre.numberSource code > span
        { position: relative; left: -4em; counter-increment: source-line; }
      pre.numberSource code > span > a:first-child::before
        { content: counter(source-line);
          position: relative; left: -1em; text-align: right; vertical-align: baseline;
          border: none; display: inline-block;
          -webkit-touch-callout: none; -webkit-user-select: none;
          -khtml-user-select: none; -moz-user-select: none;
          -ms-user-select: none; user-select: none;
          padding: 0 4px; width: 4em;
        }
      pre.numberSource { margin-left: 3em;  padding-left: 4px; }
      div.sourceCode
        {   }
      @media screen {
      pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
      }
    </style>

    <style>
      body.hypothesis-enabled #quarto-embed-header {
        padding-right: 36px;
      }

      #quarto-embed-header {
        height: 3em;
        width: 100%;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: solid 1px;
      }

      #quarto-embed-header h6 {
        font-size: 1.1em;
        padding-top: 0.6em;
        margin-left: 1em;
        margin-right: 1em;
        font-weight: 400;
      }

      #quarto-embed-header a.quarto-back-link,
      #quarto-embed-header a.quarto-download-embed {
        font-size: 0.8em;
        margin-top: 1em;
        margin-bottom: 1em;
        margin-left: 1em;
        margin-right: 1em;
      }

      .quarto-back-container {
        padding-left: 0.5em;
        display: flex;
      }

      .headroom {
          will-change: transform;
          transition: transform 200ms linear;
      }

      .headroom--pinned {
          transform: translateY(0%);
      }

      .headroom--unpinned {
          transform: translateY(-100%);
      }      
    </style>

    <script>
    window.document.addEventListener("DOMContentLoaded", function () {

      var header = window.document.querySelector("#quarto-embed-header");
      const titleBannerEl = window.document.querySelector("body > #title-block-header");
      if (titleBannerEl) {
        titleBannerEl.style.paddingTop = header.clientHeight + "px";
      }
      const contentEl = window.document.getElementById('quarto-content');
      for (const child of contentEl.children) {
        child.style.paddingTop = header.clientHeight + "px";
        child.style.marginTop = "1em";
      }

      // Use the article root if the `back` call doesn't work. This isn't perfect
      // but should typically work
      window.quartoBackToArticle = () => {
        var currentUrl = window.location.href;
        window.history.back();
        setTimeout(() => {
            // if location was not changed in 100 ms, then there is no history back
            if(currentUrl === window.location.href){              
                // redirect to site root
                window.location.href = "../index.html";
            }
        }, 100);
      }

      const headroom = new window.Headroom(header, {
        tolerance: 5,
        onPin: function () {
        },
        onUnpin: function () {
        },
      });
      headroom.init();
    });
    </script>

    
<script src="../site_libs/manuscript-notebook/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-8a894fcc3cb5e37eb5bf30def131be2f.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
     
      </head>

  <body class="quarto-notebook quarto-light">
    <div id="quarto-embed-header" class="headroom fixed-top bg-primary">
      
      <a onclick="window.quartoBackToArticle(); return false;" class="btn btn-primary quarto-back-link" href=""><i class="bi bi-caret-left"></i> Back to Article</a>
      <h6><i class="bi bi-journal-code"></i> Data cleaning and screening</h6>

            <a href="../notebooks/01_clean_cues.qmd" class="btn btn-primary quarto-download-embed" download="01_clean_cues.qmd">Download Source</a>
          </div>

     <header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Data cleaning and screening</h1>
          </div>

    
    <div class="quarto-title-meta-container">
      <div class="quarto-title-meta-column-start">
        
        <div class="quarto-title-meta">

                
          
                
              </div>
      </div>
      <div class="quarto-title-meta-column-end quarto-other-formats-target">
      </div>
    </div>



    <div class="quarto-other-links-text-target">
    </div>  </div>
</header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#initial-cleaning" id="toc-initial-cleaning" class="nav-link active" data-scroll-target="#initial-cleaning">Initial cleaning</a>
  <ul class="collapse">
  <li><a href="#remove-blank-surveys" id="toc-remove-blank-surveys" class="nav-link" data-scroll-target="#remove-blank-surveys">Remove blank surveys</a></li>
  <li><a href="#identify-duplicates" id="toc-identify-duplicates" class="nav-link" data-scroll-target="#identify-duplicates">Identify duplicates</a></li>
  <li><a href="#check-number-of-surveys-per-unique-participant" id="toc-check-number-of-surveys-per-unique-participant" class="nav-link" data-scroll-target="#check-number-of-surveys-per-unique-participant">Check number of surveys per unique participant</a></li>
  <li><a href="#rename-variables-for-consistency" id="toc-rename-variables-for-consistency" class="nav-link" data-scroll-target="#rename-variables-for-consistency">Rename variables for consistency</a></li>
  <li><a href="#remove-unnecessary-variables" id="toc-remove-unnecessary-variables" class="nav-link" data-scroll-target="#remove-unnecessary-variables">Remove unnecessary variables</a></li>
  </ul></li>
  <li><a href="#recoding-for-inclusion-criteria" id="toc-recoding-for-inclusion-criteria" class="nav-link" data-scroll-target="#recoding-for-inclusion-criteria">Recoding for inclusion criteria</a>
  <ul class="collapse">
  <li><a href="#daily-behavioral-screeners" id="toc-daily-behavioral-screeners" class="nav-link" data-scroll-target="#daily-behavioral-screeners">Daily behavioral screeners</a></li>
  <li><a href="#type-of-sexual-activity" id="toc-type-of-sexual-activity" class="nav-link" data-scroll-target="#type-of-sexual-activity">Type of sexual activity</a></li>
  <li><a href="#subset-diary-data" id="toc-subset-diary-data" class="nav-link" data-scroll-target="#subset-diary-data">Subset diary data</a></li>
  </ul></li>
  <li><a href="#descriptive-checks" id="toc-descriptive-checks" class="nav-link" data-scroll-target="#descriptive-checks">Descriptive checks</a>
  <ul class="collapse">
  <li><a href="#missing-diary-data" id="toc-missing-diary-data" class="nav-link" data-scroll-target="#missing-diary-data">Missing diary data</a></li>
  <li><a href="#verbal-consent" id="toc-verbal-consent" class="nav-link" data-scroll-target="#verbal-consent">Verbal consent</a></li>
  <li><a href="#explicit-nonverbal" id="toc-explicit-nonverbal" class="nav-link" data-scroll-target="#explicit-nonverbal">Explicit nonverbal</a></li>
  <li><a href="#implicit-nonverbal" id="toc-implicit-nonverbal" class="nav-link" data-scroll-target="#implicit-nonverbal">Implicit nonverbal</a></li>
  <li><a href="#nonverbal-composite" id="toc-nonverbal-composite" class="nav-link" data-scroll-target="#nonverbal-composite">Nonverbal composite</a></li>
  <li><a href="#overview-l1-predictors" id="toc-overview-l1-predictors" class="nav-link" data-scroll-target="#overview-l1-predictors">Overview L1 predictors</a></li>
  </ul></li>
  <li><a href="#baseline" id="toc-baseline" class="nav-link" data-scroll-target="#baseline">Baseline</a>
  <ul class="collapse">
  <li><a href="#check-for-missing-data" id="toc-check-for-missing-data" class="nav-link" data-scroll-target="#check-for-missing-data">Check for missing data</a></li>
  </ul></li>
  <li><a href="#overview-l2-predictors" id="toc-overview-l2-predictors" class="nav-link" data-scroll-target="#overview-l2-predictors">Overview L2 predictors</a>
  <ul class="collapse">
  <li><a href="#social-desirability-bias" id="toc-social-desirability-bias" class="nav-link" data-scroll-target="#social-desirability-bias">Social desirability bias</a></li>
  <li><a href="#rape-myth-rejection" id="toc-rape-myth-rejection" class="nav-link" data-scroll-target="#rape-myth-rejection">Rape myth rejection</a></li>
  <li><a href="#alcohol-and-sexual-coercion---personal-attitudes" id="toc-alcohol-and-sexual-coercion---personal-attitudes" class="nav-link" data-scroll-target="#alcohol-and-sexual-coercion---personal-attitudes">Alcohol and sexual coercion - Personal attitudes</a></li>
  <li><a href="#perceived-peer-attitudes---alcohol-and-sexual-coercion" id="toc-perceived-peer-attitudes---alcohol-and-sexual-coercion" class="nav-link" data-scroll-target="#perceived-peer-attitudes---alcohol-and-sexual-coercion">Perceived peer attitudes - Alcohol and sexual coercion</a></li>
  </ul></li>
  <li><a href="#save-updated-dataframe" id="toc-save-updated-dataframe" class="nav-link" data-scroll-target="#save-updated-dataframe">Save updated dataframe</a></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
</div>
<main class="content quarto-banner-title-block" id="quarto-document-content">      

       <div class="cell-container"><div class="cell-decorator"><pre>In [1]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode css code-with-copy"><code class="sourceCode css"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pre<span class="op">,</span> code {</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="kw">max-height</span><span class="ch">:</span> <span class="dv">500</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">overflow-y</span><span class="ch">:</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="kw">white-space</span><span class="ch">:</span> <span class="dv">pre</span> <span class="at">!important</span><span class="op">;</span> </span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="kw">overflow-x</span><span class="ch">:</span> <span class="bu">auto</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<style type="text/css">
pre, code {
  max-height: 500px;
  overflow-y: auto;
  white-space: pre !important; 
  overflow-x: auto
}
</style>
</div></div>
<div class="cell-container"><div class="cell-decorator"><pre>In [2]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># to detect and warn about conflicts</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(conflicted)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="fu">conflict_prefer</span>(<span class="st">"filter"</span>, <span class="st">"dplyr"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>[conflicted] Will prefer dplyr::filter over any other package.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">conflict_prefer</span>(<span class="st">"select"</span>, <span class="st">"dplyr"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>[conflicted] Will prefer dplyr::select over any other package.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">conflicts_prefer</span>(dplyr<span class="sc">::</span>slice)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>[conflicted] Will prefer dplyr::slice over any other package.</code></pre>
</div>
</div></div>
<div class="cell-container"><div class="cell-decorator"><pre>In [3]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># to read in data</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>path_nids <span class="ot">&lt;-</span> <span class="st">"_data/data_process"</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>path_ready <span class="ot">&lt;-</span> <span class="st">"_data/data_ready"</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="co"># for data wrangling and cleaning</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ purrr     1.0.4
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   4.0.0     ✔ tibble    3.3.0
✔ lubridate 1.9.4     ✔ tidyr     1.3.1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(psych)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"_scripts/functions.R"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<div class="cell-container"><div class="cell-decorator"><pre>In [4]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>baseline <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(here<span class="sc">::</span><span class="fu">here</span>(path_nids,<span class="st">"baseline_nid.csv"</span>), </span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>                     <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>base_sona <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(here<span class="sc">::</span><span class="fu">here</span>(path_nids,<span class="st">"baseline_sona_id.csv"</span>), </span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>                     <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(here<span class="sc">::</span><span class="fu">here</span>(path_nids, <span class="st">"diary_nid.csv"</span>), <span class="at">col_types =</span> <span class="fu">cols</span>(</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">StartDate =</span> <span class="fu">col_character</span>(),</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">EndDate =</span> <span class="fu">col_character</span>(),</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">RecordedDate =</span> <span class="fu">col_character</span>(),</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">AuDB4 =</span> <span class="fu">col_character</span>(),</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">AuDB4_7_TEXT =</span> <span class="fu">col_character</span>(),</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">AuDB5 =</span> <span class="fu">col_character</span>(),</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">AuDB5_6_TEXT =</span> <span class="fu">col_character</span>(),</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">Q186 =</span> <span class="fu">col_character</span>(),</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">Q186_8_TEXT =</span> <span class="fu">col_character</span>(),</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">PSB2 =</span> <span class="fu">col_character</span>(),</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">Q211 =</span> <span class="fu">col_character</span>(),</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">PSB15 =</span> <span class="fu">col_character</span>(),</span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">OSBB2 =</span> <span class="fu">col_character</span>(),</span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">OSBB6 =</span> <span class="fu">col_character</span>(),</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">OSBB10_11 =</span> <span class="fu">col_character</span>(),</span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">SSAB3 =</span> <span class="fu">col_character</span>(),</span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">SSAB6_7 =</span> <span class="fu">col_character</span>(),</span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">Q215 =</span> <span class="fu">col_character</span>())) <span class="sc">%&gt;%</span></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">clean_names</span>() <span class="sc">%&gt;%</span></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: One or more parsing issues, call `problems()` on your data frame for details,
e.g.:
  dat &lt;- vroom(...)
  problems(dat)</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 6,928
Columns: 191
$ start_date            &lt;chr&gt; "2022-10-19 10:11:09", "2022-10-19 11:10:25", "2…
$ end_date              &lt;chr&gt; "2022-10-19 10:13:50", "2022-10-19 11:11:32", "2…
$ status                &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
$ ip_address            &lt;chr&gt; "72.33.2.202", "35.148.93.36", "72.33.2.165", "7…
$ progress              &lt;dbl&gt; 100, 100, 100, 100, 100, 100, 100, 100, 100, 100…
$ duration_in_seconds   &lt;dbl&gt; 160, 66, 84, 151, 103, 105, 66, 92, 121, 171, 48…
$ finished              &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …
$ recorded_date         &lt;chr&gt; "2022-10-19 10:13:50", "2022-10-19 11:11:32", "2…
$ response_id           &lt;chr&gt; "R_0kqlvefI2O3z3cR", "R_2c1Nih6gyoqYPMo", "R_2sc…
$ recipient_last_name   &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ recipient_first_name  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ recipient_email       &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ external_reference    &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ location_latitude     &lt;dbl&gt; 43.0782, 43.0812, 43.0782, 43.0782, 43.0782, 43.…
$ location_longitude    &lt;dbl&gt; -89.4075, -89.3845, -89.4075, -89.4075, -89.4075…
$ distribution_channel  &lt;chr&gt; "anonymous", "anonymous", "anonymous", "anonymou…
$ user_language         &lt;chr&gt; "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", …
$ au_db1                &lt;dbl&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 2, …
$ psb1                  &lt;dbl&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, …
$ osbb1                 &lt;dbl&gt; 1, 2, 2, 2, 2, 2, 2, 2, 2, 1, 3, 2, 2, 2, 1, 2, …
$ ssab1                 &lt;dbl&gt; 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 3, 2, 2, 2, 2, 2, …
$ drugs_screen_fu       &lt;dbl&gt; 2, 2, 2, 2, 2, 2, 2, 1, 2, 2, 1, 2, 2, 2, 2, 2, …
$ bpa1                  &lt;dbl&gt; 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 2, …
$ porn_screen_fu        &lt;dbl&gt; 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 3, 2, 2, 2, 2, 2, …
$ au_db2                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ au_db3                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ au_db4                &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ au_db4_7_text         &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ au_db5                &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ au_db5_6_text         &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ au_db6                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ au_db7                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ au_db8                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ au_db9                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q186                  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q186_8_text           &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb2                  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, "1,2,3,4…
$ psb3                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 2, NA, N…
$ psb4                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 2, NA, N…
$ psb5                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb6                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb8                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb9                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb10                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 2, NA, N…
$ psb10_only_one        &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 2, NA, N…
$ psb11_only_one        &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, N…
$ psb11_tried           &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb12_only_one        &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 4, NA, N…
$ psb12_tried           &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q211                  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, "1", NA,…
$ q211_7_text           &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb13                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, N…
$ q198_1                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 0, NA, N…
$ psb14_only_one_1      &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 0, NA, N…
$ psb13_tried           &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb_selfdrunk_tried_1 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb14_tried_1         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb15                 &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, "7", NA,…
$ psb15_10_text         &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb15_tried           &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb15_tried_10_text   &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb16                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 0, NA, N…
$ psb16_10_text         &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb16_tried           &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb16_tried_10_text   &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ pbs17_2               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 0, NA, N…
$ pbs17_3               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 0, NA, N…
$ pbs17_4               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 0, NA, N…
$ pbs17_5               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, N…
$ psb18_to_23_1         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 8, NA, N…
$ psb18_to_23_2         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 10, NA, …
$ psb18_to_23_3         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 10, NA, …
$ q141_1                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 10, NA, …
$ q141_2                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 2, NA, N…
$ q141_3                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 2, NA, N…
$ pbs28_31_1            &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, N…
$ pbs28_31_2            &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, N…
$ pbs28_31_3            &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, N…
$ pbs28_31_4            &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, N…
$ psb24_to_27_1         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, N…
$ psb24_to_27_2         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, N…
$ psb24_to_27_3         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, N…
$ psb24_to_27_4         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, N…
$ psb32_1               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 2, NA, N…
$ psb33_1               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 4, NA, N…
$ psb34_1_to_34_5_1     &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 0, NA, N…
$ psb34_1_to_34_5_2     &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 0, NA, N…
$ psb34_1_to_34_5_3     &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 0, NA, N…
$ psb34_1_to_34_5_4     &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 0, NA, N…
$ psb34_1_to_34_5_5     &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 0, NA, N…
$ psb34_1_to_34_5_6     &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 0, NA, N…
$ psb34_1_to_34_5_7     &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 4, NA, N…
$ psb34                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, N…
$ psb35                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, N…
$ psb36                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 2, NA, N…
$ psb37                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 2, NA, N…
$ osbb2                 &lt;chr&gt; "4", NA, NA, NA, NA, NA, NA, NA, NA, "4", NA, NA…
$ osbb2_13_text         &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb3                 &lt;dbl&gt; 1, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, NA, NA…
$ osbb4                 &lt;dbl&gt; 2, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, NA, NA…
$ osbb5                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, NA, N…
$ osbb6                 &lt;chr&gt; "0", NA, NA, NA, NA, NA, NA, NA, NA, "0", NA, NA…
$ osbb6_5_text          &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb7                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb7_5_text          &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb8                 &lt;dbl&gt; 2, NA, NA, NA, NA, NA, NA, NA, NA, 2, NA, NA, NA…
$ osbb9                 &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb10_11             &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb10_11_10_text     &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb12_to_13_1        &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb12_to_13_2        &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb14                &lt;dbl&gt; 2, NA, NA, NA, NA, NA, NA, NA, NA, 2, NA, NA, NA…
$ osbb15                &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb15_5_text         &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb16_1              &lt;dbl&gt; 1, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, NA, NA…
$ osbb17_1              &lt;dbl&gt; 3, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, NA, NA…
$ osbb18_1_to_5_1       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb18_1_to_5_2       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb18_1_to_5_3       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb18_1_to_5_4       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb18_1_to_5_5       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb18_1_to_5_6       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb18_1_to_5_7       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb19                &lt;dbl&gt; 2, NA, NA, NA, NA, NA, NA, NA, NA, 2, NA, NA, NA…
$ osbb20                &lt;dbl&gt; 2, NA, NA, NA, NA, NA, NA, NA, NA, 2, NA, NA, NA…
$ osbb21                &lt;dbl&gt; 2, NA, NA, NA, NA, NA, NA, NA, NA, 2, NA, NA, NA…
$ osbb22                &lt;dbl&gt; 2, NA, NA, NA, NA, NA, NA, NA, NA, 2, NA, NA, NA…
$ ssab2                 &lt;dbl&gt; NA, NA, NA, 1, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ ssab3                 &lt;chr&gt; NA, NA, NA, "3", NA, NA, NA, NA, NA, NA, NA, NA,…
$ ssab3_8_text          &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ ssab4                 &lt;dbl&gt; NA, NA, NA, 2, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ ssab5                 &lt;dbl&gt; NA, NA, NA, 1, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ ssab6_7               &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ ssab6_7_10_text       &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ ssab8_to_9_1          &lt;dbl&gt; NA, NA, NA, 7, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ ssab8_to_9_2          &lt;dbl&gt; NA, NA, NA, 6, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ ssab10_1              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ ssab11_1              &lt;dbl&gt; NA, NA, NA, 3, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ ssab12_1_to_5_1       &lt;dbl&gt; NA, NA, NA, 4, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ ssab12_1_to_5_2       &lt;dbl&gt; NA, NA, NA, 1, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ ssab12_1_to_5_3       &lt;dbl&gt; NA, NA, NA, 1, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ ssab12_1_to_5_4       &lt;dbl&gt; NA, NA, NA, 1, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ ssab12_1_to_5_5       &lt;dbl&gt; NA, NA, NA, 1, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ ssab12_1_to_5_6       &lt;dbl&gt; NA, NA, NA, 1, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ ssab12_1_to_5_7       &lt;dbl&gt; NA, NA, NA, 3, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ ssab13                &lt;dbl&gt; NA, NA, NA, 1, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ ssab14                &lt;dbl&gt; NA, NA, NA, 2, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ ssab15                &lt;dbl&gt; NA, NA, NA, 2, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ ssab16                &lt;dbl&gt; NA, NA, NA, 2, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ q215                  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, "9", NA, NA, NA, NA,…
$ q215_8_text           &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q212_1                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q212_2                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q212_3                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q212_4                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, 1, NA, NA, NA, NA, N…
$ q195                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q196_1                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q202                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 327, NA,…
$ q202_36_text          &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q208                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 734, NA,…
$ q208_35_text          &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q210                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 733, NA,…
$ q210_34_text          &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q179                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q180                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q181                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ mis1                  &lt;dbl&gt; 1, 1, 2, 3, 1, 1, 2, 3, 1, 2, 1, 1, 1, 1, NA, 1,…
$ mis2                  &lt;dbl&gt; 3, 1, 1, 3, 2, 4, 1, 1, 1, 3, 1, 3, 2, 1, NA, 3,…
$ mis3                  &lt;dbl&gt; 1, 3, 2, 2, 3, 3, 2, 3, 1, 1, 1, 1, 2, 4, NA, 2,…
$ mis4                  &lt;dbl&gt; 2, 1, 1, 4, 2, 1, 2, 2, 1, 1, 1, 1, 1, 1, NA, 1,…
$ phq8_1_fu             &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 1, 0, NA, 0,…
$ phq8_2_fu             &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, NA, 0,…
$ phq8_3_fu             &lt;dbl&gt; 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 3, 0, 0, 0, NA, 0,…
$ phq8_4_fu             &lt;dbl&gt; 2, 0, 0, 1, 0, 1, 0, 2, 1, 0, 3, 1, 1, 1, NA, 0,…
$ gad_fu_nervous        &lt;dbl&gt; 0, 2, 1, 1, 1, 1, 0, 2, 0, 0, 2, 1, 1, 0, NA, 1,…
$ gad_fu_notabletostop  &lt;dbl&gt; 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 2, 1, 0, 0, NA, 1,…
$ b1                    &lt;dbl&gt; 5, 0, 2, 0, 0, 1, 0, 1, 0, 0, 5, 0, 0, 5, NA, 0,…
$ c2                    &lt;dbl&gt; 5, 0, 1, 0, 0, 0, 0, 0, 0, 0, 5, 0, 1, 5, NA, 0,…
$ d2                    &lt;dbl&gt; 5, 0, 0, 0, 0, 0, 0, 1, 0, 0, 5, 0, 0, 5, NA, 0,…
$ e4                    &lt;dbl&gt; 5, 0, 0, 1, 0, 1, 0, 0, 0, 0, 5, 0, 0, 5, NA, 1,…
$ ssid                  &lt;dbl&gt; 101521080444, 101521080444, 101521080444, 101521…
$ pid                   &lt;dbl&gt; 101822130256, 101822173925, 101822125304, 101822…
$ sms                   &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ day                   &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, …
$ sig                   &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …
$ r_date                &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ time                  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ rt                    &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ time_zone             &lt;dbl&gt; -6, -6, -6, -6, -6, -6, -6, -6, -6, -6, -6, -6, …
$ rid                   &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ nid                   &lt;dbl&gt; 6891674, 9128298, 3533571, 3766694, 9972029, 870…</code></pre>
</div>
</div></div>
<section id="initial-cleaning" class="level2">
<h2 class="anchored" data-anchor-id="initial-cleaning">Initial cleaning</h2>
<p>Format dates</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [5]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">start_date =</span> <span class="fu">as_datetime</span>(start_date, <span class="at">tz =</span> <span class="st">"America/Chicago"</span>),</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">end_date =</span> <span class="fu">as_datetime</span>(end_date, <span class="at">tz =</span> <span class="st">"America/Chicago"</span>),</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">recorded_date =</span> <span class="fu">as_datetime</span>(recorded_date, <span class="at">tz =</span> <span class="st">"America/Chicago"</span>),</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>         <span class="at">date =</span> <span class="fu">date</span>(start_date))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<p>Confirm participant identifiers</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [6]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(data) <span class="co"># 6928</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6928</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(data<span class="sc">$</span>nid)) <span class="co"># 278 - nid derived from sona_id; links baseline to diaries </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 278</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(data<span class="sc">$</span>pid)) <span class="co"># 278 - pid exclusive to daily surveys</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 278</code></pre>
</div>
</div></div>
<section id="remove-blank-surveys" class="level3">
<h3 class="anchored" data-anchor-id="remove-blank-surveys">Remove blank surveys</h3>
<p>Remove 136 completely blank surveys</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [7]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>data_empty <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(au_db1<span class="sc">:</span>e4) </span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>data_empty_rows <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="fu">rowSums</span>(<span class="fu">is.na</span>(data_empty)) <span class="sc">==</span> <span class="fu">ncol</span>(data_empty))</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(data_empty_rows)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 136</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">row_number</span>() <span class="sc">%in%</span> data_empty_rows)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
</section>
<section id="identify-duplicates" class="level3">
<h3 class="anchored" data-anchor-id="identify-duplicates">Identify duplicates</h3>
<p>255 duplicates (i.e., more than one survey on same day for one pid)</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [8]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pid, date) <span class="sc">%&gt;%</span> </span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 255 × 3
            pid date           n
          &lt;dbl&gt; &lt;date&gt;     &lt;int&gt;
 1 102322233822 2022-11-18     4
 2 101922110450 2022-11-01     3
 3 101922140746 2022-10-23     3
 4 101922140746 2022-10-26     3
 5 101922141125 2022-10-21     3
 6 101922210432 2022-10-24     3
 7 102022122815 2022-10-29     3
 8 102322233822 2022-11-15     3
 9 102622130043 2022-11-16     3
10 102722110650 2022-11-19     3
# ℹ 245 more rows</code></pre>
</div>
</div></div>
<p>Check if responses are same on duplicates</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [9]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>duplicates <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pid, date) <span class="sc">%&gt;%</span> </span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(data, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"pid"</span>, <span class="st">"date"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(n)) </span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>duplicates <span class="sc">%&gt;%</span> </span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nrow</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 521</code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>duplicates <span class="sc">%&gt;%</span> </span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="dv">4</span><span class="sc">:</span><span class="dv">20</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nrow</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 462</code></pre>
</div>
</div></div>
<p>Remove duplicates that are same on all columns except survey metadata<br>
Will keep first survey so we have start time of first survey that day</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [10]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>duplicate_responses <span class="ot">&lt;-</span> <span class="fu">which</span>(duplicates <span class="sc">%&gt;%</span> </span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(<span class="dv">4</span><span class="sc">:</span><span class="dv">20</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">duplicated</span>())</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>duplicate_ids <span class="ot">&lt;-</span> duplicates <span class="sc">%&gt;%</span> </span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">row_number</span>() <span class="sc">%in%</span> duplicate_responses) <span class="sc">%&gt;%</span> </span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(response_id)</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>response_id <span class="sc">%in%</span> duplicate_ids)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<p>Left with 197 duplicate surveys</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [11]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pid, date) <span class="sc">%&gt;%</span> </span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 197 × 3
            pid date           n
          &lt;dbl&gt; &lt;date&gt;     &lt;int&gt;
 1 102322233822 2022-11-18     4
 2 101922110450 2022-11-01     3
 3 101922140746 2022-10-23     3
 4 101922140746 2022-10-26     3
 5 101922141125 2022-10-21     3
 6 101922210432 2022-10-24     3
 7 102022122815 2022-10-29     3
 8 102322233822 2022-11-15     3
 9 102622130043 2022-11-16     3
10 101922110450 2022-10-24     2
# ℹ 187 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>duplicates <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pid, date) <span class="sc">%&gt;%</span> </span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(data, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"pid"</span>, <span class="st">"date"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(n)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<p>Check for duplicate surveys with no data other than screening questions for branching</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [12]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>data_empty <span class="ot">&lt;-</span> duplicates <span class="sc">%&gt;%</span> </span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(au_db2<span class="sc">:</span>e4) </span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>data_empty_rows <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="fu">rowSums</span>(<span class="fu">is.na</span>(data_empty)) <span class="sc">==</span> <span class="fu">ncol</span>(data_empty))</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>duplicates <span class="sc">%&gt;%</span> </span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">row_number</span>() <span class="sc">%in%</span> data_empty_rows) <span class="sc">%&gt;%</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(nid, date) <span class="sc">%&gt;%</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 40 × 3
# Groups:   nid, date [40]
       nid date           n
     &lt;dbl&gt; &lt;date&gt;     &lt;int&gt;
 1 5140108 2022-11-16     2
 2 1083617 2022-11-12     1
 3 1215369 2022-11-06     1
 4 1345823 2022-11-12     1
 5 1636530 2022-10-31     1
 6 2148675 2022-11-07     1
 7 2531227 2022-11-01     1
 8 3187228 2022-10-25     1
 9 3279665 2022-11-03     1
10 3313178 2022-10-27     1
# ℹ 30 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1 nid has 2 mostly blank duplicates - do they have another survey that day?</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="co"># they do!</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>duplicates <span class="sc">%&gt;%</span> </span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(nid <span class="sc">==</span> <span class="st">"5140108"</span> <span class="sc">&amp;</span> date <span class="sc">==</span> <span class="st">"2022-11-16"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 193
           pid date           n start_date          end_date            status
         &lt;dbl&gt; &lt;date&gt;     &lt;int&gt; &lt;dttm&gt;              &lt;dttm&gt;               &lt;dbl&gt;
1 102622130043 2022-11-16     3 2022-11-16 11:24:31 2022-11-16 11:25:36      0
2 102622130043 2022-11-16     3 2022-11-16 11:23:19 2022-11-16 11:23:30      0
3 102622130043 2022-11-16     3 2022-11-16 11:23:55 2022-11-16 11:24:10      0
# ℹ 187 more variables: ip_address &lt;chr&gt;, progress &lt;dbl&gt;,
#   duration_in_seconds &lt;dbl&gt;, finished &lt;dbl&gt;, recorded_date &lt;dttm&gt;,
#   response_id &lt;chr&gt;, recipient_last_name &lt;lgl&gt;, recipient_first_name &lt;lgl&gt;,
#   recipient_email &lt;lgl&gt;, external_reference &lt;lgl&gt;, location_latitude &lt;dbl&gt;,
#   location_longitude &lt;dbl&gt;, distribution_channel &lt;chr&gt;, user_language &lt;chr&gt;,
#   au_db1 &lt;dbl&gt;, psb1 &lt;dbl&gt;, osbb1 &lt;dbl&gt;, ssab1 &lt;dbl&gt;, drugs_screen_fu &lt;dbl&gt;,
#   bpa1 &lt;dbl&gt;, porn_screen_fu &lt;dbl&gt;, au_db2 &lt;dbl&gt;, au_db3 &lt;dbl&gt;, …</code></pre>
</div>
</div></div>
<p>filter out mostly blank duplicates (i.e., only responded to branching questions and have more complete survey on same day)</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [13]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>response_ids <span class="ot">&lt;-</span> duplicates <span class="sc">%&gt;%</span> </span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">row_number</span>() <span class="sc">%in%</span> data_empty_rows) <span class="sc">%&gt;%</span> </span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(response_id)</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>response_id <span class="sc">%in%</span> response_ids)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<p>159 duplicates left</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [14]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pid, date) <span class="sc">%&gt;%</span> </span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 159 × 3
            pid date           n
          &lt;dbl&gt; &lt;date&gt;     &lt;int&gt;
 1 102322233822 2022-11-18     4
 2 101922110450 2022-11-01     3
 3 101922140746 2022-10-23     3
 4 101922140746 2022-10-26     3
 5 101922141125 2022-10-21     3
 6 102322233822 2022-11-15     3
 7 101922110450 2022-10-24     2
 8 101922110450 2022-10-30     2
 9 101922110450 2022-11-07     2
10 101922130136 2022-10-20     2
# ℹ 149 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>duplicates <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pid, date) <span class="sc">%&gt;%</span> </span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(data, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"pid"</span>, <span class="st">"date"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(n)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<p>Look at surveys taken at midnight to see if date is incorrect due to being slightly after midnight</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [15]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">hour</span>(start_date) <span class="sc">&lt;</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(nid, start_date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 2
      nid start_date         
    &lt;dbl&gt; &lt;dttm&gt;             
1 9796568 2022-10-29 00:03:52
2 9740303 2022-10-29 00:14:23
3 6681525 2022-11-06 00:14:55
4 3256800 2022-11-10 01:01:05
5 3256800 2022-11-10 01:01:51
6 9328313 2022-11-11 00:10:54
7 2564475 2022-11-13 00:57:58
8 8311815 2022-11-15 00:14:07</code></pre>
</div>
</div></div>
<p>5/8 Duplicate surveys taken at midnight and later that night and are missing survey day before- determined midnight survey was for previous day. Correcting new date variable here.</p>
<p>Note: this date variable lines up roughly to day on study</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [16]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># data %&gt;% </span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="co">#   filter(nid == "9796568") %&gt;% </span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a><span class="co">#   select(date, response_id, start_date) %&gt;% </span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   print(n = Inf)</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a><span class="co"># data %&gt;% </span></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a><span class="co">#   filter(nid == "9740303") %&gt;% </span></span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a><span class="co">#   select(date, response_id, start_date) %&gt;% </span></span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a><span class="co">#   print(n = Inf)</span></span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a><span class="co"># data %&gt;% </span></span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a><span class="co">#   filter(nid == "6681525") %&gt;% </span></span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a><span class="co">#   select(date, response_id, start_date) %&gt;% </span></span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a><span class="co">#   print(n = Inf)</span></span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb44-16"><a href="#cb44-16" aria-hidden="true" tabindex="-1"></a><span class="co"># data %&gt;% </span></span>
<span id="cb44-17"><a href="#cb44-17" aria-hidden="true" tabindex="-1"></a><span class="co">#   filter(nid == "3256800") %&gt;% </span></span>
<span id="cb44-18"><a href="#cb44-18" aria-hidden="true" tabindex="-1"></a><span class="co">#   select(date, response_id, start_date) %&gt;% </span></span>
<span id="cb44-19"><a href="#cb44-19" aria-hidden="true" tabindex="-1"></a><span class="co">#   print(n = Inf)</span></span>
<span id="cb44-20"><a href="#cb44-20" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb44-21"><a href="#cb44-21" aria-hidden="true" tabindex="-1"></a><span class="co"># data %&gt;% </span></span>
<span id="cb44-22"><a href="#cb44-22" aria-hidden="true" tabindex="-1"></a><span class="co">#   filter(nid == "9328313") %&gt;% </span></span>
<span id="cb44-23"><a href="#cb44-23" aria-hidden="true" tabindex="-1"></a><span class="co">#   select(date, response_id, start_date) %&gt;% </span></span>
<span id="cb44-24"><a href="#cb44-24" aria-hidden="true" tabindex="-1"></a><span class="co">#   print(n = Inf)</span></span>
<span id="cb44-25"><a href="#cb44-25" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb44-26"><a href="#cb44-26" aria-hidden="true" tabindex="-1"></a><span class="co"># data %&gt;% </span></span>
<span id="cb44-27"><a href="#cb44-27" aria-hidden="true" tabindex="-1"></a><span class="co">#   filter(nid == "2564475") %&gt;% </span></span>
<span id="cb44-28"><a href="#cb44-28" aria-hidden="true" tabindex="-1"></a><span class="co">#   select(date, response_id, start_date) %&gt;% </span></span>
<span id="cb44-29"><a href="#cb44-29" aria-hidden="true" tabindex="-1"></a><span class="co">#   print(n = Inf)</span></span>
<span id="cb44-30"><a href="#cb44-30" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb44-31"><a href="#cb44-31" aria-hidden="true" tabindex="-1"></a><span class="co"># data %&gt;% </span></span>
<span id="cb44-32"><a href="#cb44-32" aria-hidden="true" tabindex="-1"></a><span class="co">#   filter(nid == "8311815") %&gt;% </span></span>
<span id="cb44-33"><a href="#cb44-33" aria-hidden="true" tabindex="-1"></a><span class="co">#   select(date, response_id, start_date) %&gt;% </span></span>
<span id="cb44-34"><a href="#cb44-34" aria-hidden="true" tabindex="-1"></a><span class="co">#   print(n = Inf)</span></span>
<span id="cb44-35"><a href="#cb44-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-36"><a href="#cb44-36" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb44-37"><a href="#cb44-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">date =</span> <span class="fu">if_else</span>(response_id <span class="sc">==</span> <span class="st">"R_28GUR3cJzRXaTPC"</span>, <span class="fu">date</span>(<span class="st">"2022-11-10"</span>), </span>
<span id="cb44-38"><a href="#cb44-38" aria-hidden="true" tabindex="-1"></a>                        date),</span>
<span id="cb44-39"><a href="#cb44-39" aria-hidden="true" tabindex="-1"></a>         <span class="at">date =</span> <span class="fu">if_else</span>(response_id <span class="sc">==</span> <span class="st">"R_3lEREAWesaFQSnG"</span>, <span class="fu">date</span>(<span class="st">"2022-10-28"</span>),</span>
<span id="cb44-40"><a href="#cb44-40" aria-hidden="true" tabindex="-1"></a>                        date),</span>
<span id="cb44-41"><a href="#cb44-41" aria-hidden="true" tabindex="-1"></a>         <span class="at">date =</span> <span class="fu">if_else</span>(response_id <span class="sc">==</span> <span class="st">"R_21G38UK4RkS5Ky5"</span>, <span class="fu">date</span>(<span class="st">"2022-10-28"</span>),</span>
<span id="cb44-42"><a href="#cb44-42" aria-hidden="true" tabindex="-1"></a>                        date),</span>
<span id="cb44-43"><a href="#cb44-43" aria-hidden="true" tabindex="-1"></a>         <span class="at">date =</span> <span class="fu">if_else</span>(response_id <span class="sc">==</span> <span class="st">"R_2q1tWYtBw0XbZlM"</span>, <span class="fu">date</span>(<span class="st">"2022-11-05"</span>),</span>
<span id="cb44-44"><a href="#cb44-44" aria-hidden="true" tabindex="-1"></a>                        date),</span>
<span id="cb44-45"><a href="#cb44-45" aria-hidden="true" tabindex="-1"></a>         <span class="at">date =</span> <span class="fu">if_else</span>(response_id <span class="sc">==</span> <span class="st">"R_2c63k6bRzLwkyJT"</span>, <span class="fu">date</span>(<span class="st">"2022-11-14"</span>),</span>
<span id="cb44-46"><a href="#cb44-46" aria-hidden="true" tabindex="-1"></a>                        date))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<p>Look at differences in branching questions among duplicates</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [17]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>duplicates <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pid, date) <span class="sc">%&gt;%</span> </span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(data, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"pid"</span>, <span class="st">"date"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(n)) </span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>duplicates_branch_match <span class="ot">&lt;-</span> duplicates <span class="sc">%&gt;%</span> </span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(nid, date, au_db1<span class="sc">:</span>porn_screen_fu) <span class="sc">%&gt;%</span> </span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(nid, date) <span class="sc">%&gt;%</span> </span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>n) <span class="sc">%&gt;%</span> </span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(duplicates, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"nid"</span>, <span class="st">"date"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<p>Look at mental health questions</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [18]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>duplicates_branch_match <span class="sc">%&gt;%</span> </span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(au_db1 <span class="sc">==</span> <span class="dv">2</span> <span class="sc">&amp;</span> psb1 <span class="sc">==</span> <span class="dv">2</span> <span class="sc">&amp;</span> osbb1 <span class="sc">==</span> <span class="dv">2</span> <span class="sc">&amp;</span> ssab1 <span class="sc">==</span> <span class="dv">2</span> <span class="sc">&amp;</span> </span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>                 drugs_screen_fu <span class="sc">==</span> <span class="dv">2</span> <span class="sc">&amp;</span> bpa1 <span class="sc">==</span> <span class="dv">2</span> <span class="sc">&amp;</span> porn_screen_fu <span class="sc">==</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(nid, date, response_id, start_date, mis1<span class="sc">:</span>e4) <span class="sc">%&gt;%</span> </span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 165
Columns: 18
Groups: nid, date [82]
$ nid                  &lt;dbl&gt; 1215369, 1215369, 1419718, 1419718, 1428771, 1428…
$ date                 &lt;date&gt; 2022-11-05, 2022-11-05, 2022-10-28, 2022-10-28, …
$ response_id          &lt;chr&gt; "R_2ZC8HYrCFZZnlIA", "R_2OMVgMmsh0PCohX", "R_XFce…
$ start_date           &lt;dttm&gt; 2022-11-05 16:50:30, 2022-11-05 16:53:09, 2022-1…
$ mis1                 &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 3…
$ mis2                 &lt;dbl&gt; 4, 1, 1, 1, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 3…
$ mis3                 &lt;dbl&gt; 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 2, 1, 1, 1, 3…
$ mis4                 &lt;dbl&gt; 2, 3, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3…
$ phq8_1_fu            &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, NA, 0, 0, …
$ phq8_2_fu            &lt;dbl&gt; 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, NA, 0, 0, …
$ phq8_3_fu            &lt;dbl&gt; 0, 0, 0, 1, 0, 0, 2, 1, 1, 1, 0, 0, 0, NA, 1, 2, …
$ phq8_4_fu            &lt;dbl&gt; 0, 1, 0, 1, 0, 0, 1, 2, 2, 2, 1, 1, 0, NA, 1, 2, …
$ gad_fu_nervous       &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 1, NA, 0, 0, …
$ gad_fu_notabletostop &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, NA, 0, 0, …
$ b1                   &lt;dbl&gt; 5, 5, 0, 0, 0, 0, 5, 5, 5, 5, 5, 5, 5, NA, 0, 0, …
$ c2                   &lt;dbl&gt; 5, 5, 0, 0, 1, 0, 5, 5, 5, 5, 5, 5, 5, NA, 0, 0, …
$ d2                   &lt;dbl&gt; 5, 5, 0, 0, 0, 0, 5, 5, 5, 5, 5, 5, 5, NA, 0, 0, …
$ e4                   &lt;dbl&gt; 5, 5, 0, 0, 0, 0, 5, 5, 5, 5, 5, 5, 5, NA, 0, 0, …</code></pre>
</div>
</div></div>
<p>If answers same keep more complete survey then first survey</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [19]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>response_id <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"R_3nl1aO9wz2HoliI"</span>, <span class="st">"R_3j0cQeVBMt5s0Y0"</span>,</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>         <span class="st">"R_27UvVfdaNbLQIvA"</span>, <span class="st">"R_1roCa7SNA64ll6b"</span>, <span class="st">"R_3JjZhfFzAc87KLQ"</span>,</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>         <span class="st">"R_3eb3ZXUu8ma62HW"</span>, <span class="st">"R_1goOMvxm2OO37xE"</span>, <span class="st">"R_2anOsrKT0rWfpyh"</span>,</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>         <span class="st">"R_2v7x6suXsPA7lCE"</span>, <span class="st">"R_3n1q190pGvgnJvW"</span>, <span class="st">"R_3Mmsiry2UFC250F"</span>,</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>         <span class="st">"R_1CD8AVjRYbvFOSE"</span>, <span class="st">"R_1pGNAcQtKqkDl4Y"</span>, <span class="st">"R_1Kp50zwQe1EHJ9A"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<p>If answers differ only by 1-2 items, keep more complete survey or if both complete keep first survey</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [20]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>response_id <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"R_2e3FNxw2bfXqVhD"</span>, <span class="st">"R_3PuSSFXqM2rg75H"</span>,</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"R_21jN639l8fmHhv7"</span>, <span class="st">"R_24cL375YzQDqcNs"</span>,</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"R_27InzwQuaYLA91G"</span>, <span class="st">"R_2q3iIQW0ju1U0TC"</span>,</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"R_2aQz1zTeseotOnq"</span>, <span class="st">"R_aYqSgHFF1qJem9r"</span>,</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"R_1mI5Ldgr8fNIDJn"</span>, <span class="st">"R_5mZeozvhOLfQHyF"</span>,</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"R_3G2MmYKXMfOPpw8"</span>, <span class="st">"R_12hVYRgqDPJX7KM"</span>,</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"R_V418rtMyfoi5rTb"</span>, <span class="st">"R_1zfPXLu96CO1qfv"</span>, </span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"R_1FOH5eJeKZKDLaE"</span>, <span class="st">"R_vMHmj0vxM2bn98R"</span>,</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"R_1lt7qIcUoYRj7s2"</span>, <span class="st">"R_vAMr55UaumNxt9n"</span>,</span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"R_xbVy68nr7ZEHK01"</span>, <span class="st">"R_12QL6qI8bCV2YPL"</span>,</span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"R_3rZiJxcPpT5dgx4"</span>, <span class="st">"R_27PDNNBEMijZqxM"</span>,</span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"R_3FJ7693Okhf5xgn"</span>, <span class="st">"R_DFXWiS5oKvsSevn"</span>,</span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"R_uxoQLKB3iUwZvJ7"</span>, <span class="st">"R_5aMdcpvNUaRgepH"</span>,</span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"R_1GWuG4iIs1EgIdy"</span>, <span class="st">"R_3nUxYS964qGdnyn"</span>,</span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"R_1jIj5b2QDOMaSgO"</span>, <span class="st">"R_2QFE8b5dMtmd3JL"</span>,</span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"R_ZjK1J5cruthIO6R"</span>, <span class="st">"R_1kZV0eMBz42WEFW"</span>,</span>
<span id="cb49-18"><a href="#cb49-18" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"R_1FfEfAVl19LMXFw"</span>, <span class="st">"R_3gZOFZK2937JZqj"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<p>Look at other matching branch surveys</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [21]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># duplicates_branch_match %&gt;% </span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="co">#   filter(au_db1 == 1 &amp; psb1 == 2 &amp; osbb1 == 2 &amp; ssab1 == 2 &amp; </span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="co">#                  drugs_screen_fu == 2 &amp; bpa1 == 2 &amp; porn_screen_fu == 2) %&gt;% </span></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a><span class="co">#   select(nid, date, response_id, start_date, au_db2:e4) %&gt;% </span></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a><span class="co">#   view()</span></span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a><span class="co"># duplicates_branch_match %&gt;% </span></span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a><span class="co">#   filter(au_db1 == 1 &amp; psb1 == 1 &amp; osbb1 == 2 &amp; ssab1 == 2 &amp; </span></span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a><span class="co">#                  drugs_screen_fu == 2 &amp; bpa1 == 2 &amp; porn_screen_fu == 2) %&gt;% </span></span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a><span class="co">#   select(nid, date, response_id, start_date, au_db2:e4) %&gt;% </span></span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a><span class="co">#   view()</span></span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a><span class="co"># duplicates_branch_match %&gt;% </span></span>
<span id="cb50-14"><a href="#cb50-14" aria-hidden="true" tabindex="-1"></a><span class="co">#   filter(au_db1 == 2 &amp; psb1 == 2 &amp; osbb1 == 1 &amp; ssab1 == 1 &amp; </span></span>
<span id="cb50-15"><a href="#cb50-15" aria-hidden="true" tabindex="-1"></a><span class="co">#                  drugs_screen_fu == 2 &amp; bpa1 == 2 &amp; porn_screen_fu == 2) %&gt;% </span></span>
<span id="cb50-16"><a href="#cb50-16" aria-hidden="true" tabindex="-1"></a><span class="co">#   select(nid, date, response_id, start_date, au_db2:e4) %&gt;% </span></span>
<span id="cb50-17"><a href="#cb50-17" aria-hidden="true" tabindex="-1"></a><span class="co">#   view()</span></span>
<span id="cb50-18"><a href="#cb50-18" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb50-19"><a href="#cb50-19" aria-hidden="true" tabindex="-1"></a><span class="co"># duplicates_branch_match %&gt;% </span></span>
<span id="cb50-20"><a href="#cb50-20" aria-hidden="true" tabindex="-1"></a><span class="co">#   filter(au_db1 == 2 &amp; psb1 == 2 &amp; osbb1 == 2 &amp; ssab1 == 1 &amp; </span></span>
<span id="cb50-21"><a href="#cb50-21" aria-hidden="true" tabindex="-1"></a><span class="co">#                  drugs_screen_fu == 2 &amp; bpa1 == 2 &amp; porn_screen_fu == 2) %&gt;% </span></span>
<span id="cb50-22"><a href="#cb50-22" aria-hidden="true" tabindex="-1"></a><span class="co">#   select(nid, date, response_id, start_date, au_db2:e4) %&gt;% </span></span>
<span id="cb50-23"><a href="#cb50-23" aria-hidden="true" tabindex="-1"></a><span class="co">#   view()</span></span>
<span id="cb50-24"><a href="#cb50-24" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb50-25"><a href="#cb50-25" aria-hidden="true" tabindex="-1"></a><span class="co"># duplicates_branch_match %&gt;% </span></span>
<span id="cb50-26"><a href="#cb50-26" aria-hidden="true" tabindex="-1"></a><span class="co">#   filter(au_db1 == 2 &amp; psb1 == 2 &amp; osbb1 == 2 &amp; ssab1 == 1 &amp; </span></span>
<span id="cb50-27"><a href="#cb50-27" aria-hidden="true" tabindex="-1"></a><span class="co">#                  drugs_screen_fu == 2 &amp; bpa1 == 2 &amp; porn_screen_fu == 1) %&gt;% </span></span>
<span id="cb50-28"><a href="#cb50-28" aria-hidden="true" tabindex="-1"></a><span class="co">#   select(nid, date, response_id, start_date, au_db2:e4) %&gt;% </span></span>
<span id="cb50-29"><a href="#cb50-29" aria-hidden="true" tabindex="-1"></a><span class="co">#   view()</span></span>
<span id="cb50-30"><a href="#cb50-30" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb50-31"><a href="#cb50-31" aria-hidden="true" tabindex="-1"></a><span class="co"># duplicates_branch_match %&gt;% </span></span>
<span id="cb50-32"><a href="#cb50-32" aria-hidden="true" tabindex="-1"></a><span class="co">#   filter(au_db1 == 2 &amp; psb1 == 1 &amp; osbb1 == 2 &amp; ssab1 == 1 &amp; </span></span>
<span id="cb50-33"><a href="#cb50-33" aria-hidden="true" tabindex="-1"></a><span class="co">#                  drugs_screen_fu == 2 &amp; bpa1 == 2 &amp; porn_screen_fu == 1) %&gt;% </span></span>
<span id="cb50-34"><a href="#cb50-34" aria-hidden="true" tabindex="-1"></a><span class="co">#   select(nid, date, response_id, start_date, au_db2:e4) %&gt;% </span></span>
<span id="cb50-35"><a href="#cb50-35" aria-hidden="true" tabindex="-1"></a><span class="co">#   view()</span></span>
<span id="cb50-36"><a href="#cb50-36" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb50-37"><a href="#cb50-37" aria-hidden="true" tabindex="-1"></a><span class="co"># duplicates_branch_match %&gt;% </span></span>
<span id="cb50-38"><a href="#cb50-38" aria-hidden="true" tabindex="-1"></a><span class="co">#   filter(au_db1 == 1 &amp; psb1 == 2 &amp; osbb1 == 2 &amp; ssab1 == 2 &amp; </span></span>
<span id="cb50-39"><a href="#cb50-39" aria-hidden="true" tabindex="-1"></a><span class="co">#                  drugs_screen_fu == 2 &amp; bpa1 == 1 &amp; porn_screen_fu == 2) %&gt;% </span></span>
<span id="cb50-40"><a href="#cb50-40" aria-hidden="true" tabindex="-1"></a><span class="co">#   select(nid, date, response_id, start_date, au_db2:e4) %&gt;% </span></span>
<span id="cb50-41"><a href="#cb50-41" aria-hidden="true" tabindex="-1"></a><span class="co">#   view()</span></span>
<span id="cb50-42"><a href="#cb50-42" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb50-43"><a href="#cb50-43" aria-hidden="true" tabindex="-1"></a><span class="co"># duplicates_branch_match %&gt;% </span></span>
<span id="cb50-44"><a href="#cb50-44" aria-hidden="true" tabindex="-1"></a><span class="co">#   filter(au_db1 == 2 &amp; psb1 == 2 &amp; osbb1 == 1 &amp; ssab1 == 2 &amp; </span></span>
<span id="cb50-45"><a href="#cb50-45" aria-hidden="true" tabindex="-1"></a><span class="co">#                  drugs_screen_fu == 2 &amp; bpa1 == 2 &amp; porn_screen_fu == 1) %&gt;% </span></span>
<span id="cb50-46"><a href="#cb50-46" aria-hidden="true" tabindex="-1"></a><span class="co">#   select(nid, date, response_id, start_date, au_db2:e4) %&gt;% </span></span>
<span id="cb50-47"><a href="#cb50-47" aria-hidden="true" tabindex="-1"></a><span class="co">#   view()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<p>If answers differ only by 1-2 items (or 3 items if more than one branch endorsed and completed), keep more complete survey or if both complete keep first survey</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [22]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>response_id <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"R_1DYDNJfbNuwRivW"</span>, <span class="st">"R_3w9vDPa7Aoq1lFD"</span>,</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"R_22Gkq3271dAoUP2"</span>, <span class="st">"R_1gTtr4rJocjW0Uy"</span>,</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"R_2uJW6wj5ne3i1wS"</span>, <span class="st">"R_3MGuKFZITFIe3NM"</span>,</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"R_3MDR4RbykC162QV"</span>, <span class="st">"R_3Gq3wQfAmpYVFit"</span>,</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"R_3Mn9DViM1ZJlQ1Q"</span>, <span class="st">"R_3dYXmYQcqJbtXbD"</span>,</span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"R_Ww9Ie3dTvQ58QbT"</span>, <span class="st">"R_1OVRbIUU6JzciJI"</span>,</span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"R_1P1q8xsYV2BQ3KG"</span>, <span class="st">"R_DclSImfNg9xma6B"</span>,</span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"R_3s17B90hYoNIXpy"</span>, <span class="st">"R_3Lb7H5oppSanIB0"</span>,</span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"R_Aafzxghrkp8ZNEl"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<p>Look at non-matching branch surveys</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [23]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>duplicates <span class="sc">%&gt;%</span> </span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>response_id <span class="sc">%in%</span> duplicates_branch_match<span class="sc">$</span>response_id) <span class="sc">%&gt;%</span> </span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(nid, date, response_id, start_date, au_db1<span class="sc">:</span>e4) <span class="sc">%&gt;%</span> </span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 97
Columns: 167
$ nid                   &lt;dbl&gt; 8617355, 8617355, 8617355, 8617355, 8617355, 546…
$ date                  &lt;date&gt; 2022-10-24, 2022-10-24, 2022-11-01, 2022-11-01,…
$ response_id           &lt;chr&gt; "R_2wjejBG6wLUiPND", "R_aWWayxdHVI4j6Lv", "R_1eJ…
$ start_date            &lt;dttm&gt; 2022-10-24 12:10:47, 2022-10-24 20:04:44, 2022-…
$ au_db1                &lt;dbl&gt; 2, 2, 2, 2, 2, 2, 3, 2, 2, 1, 1, 1, 2, 2, 2, 2, …
$ psb1                  &lt;dbl&gt; 1, 2, 2, 2, 2, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 1, …
$ osbb1                 &lt;dbl&gt; 2, 2, 2, 2, 2, 1, 1, 2, 1, 2, 2, 1, 1, 2, 2, 1, …
$ ssab1                 &lt;dbl&gt; 2, 2, 2, 2, 2, 1, 1, 1, 1, 2, 2, 2, 1, 2, 2, 1, …
$ drugs_screen_fu       &lt;dbl&gt; 2, 2, 2, 2, 1, 2, 4, 2, 2, 2, 2, 2, 2, 2, 2, 2, …
$ bpa1                  &lt;dbl&gt; 2, 2, 2, 2, 2, 2, 4, 2, 2, 1, 1, 2, 2, 2, 2, 2, …
$ porn_screen_fu        &lt;dbl&gt; 2, 2, 2, 2, 2, 1, 1, 1, 1, 2, 2, 2, 1, 2, 2, 1, …
$ au_db2                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, 3, 2, 2, NA,…
$ au_db3                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, 2, 3, 3, NA,…
$ au_db4                &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, "3,4,5,6", "…
$ au_db4_7_text         &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ au_db5                &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, "1", "2", "2…
$ au_db5_6_text         &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ au_db6                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, 2, 1, 1, NA,…
$ au_db7                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, 2, 1, 1, NA,…
$ au_db8                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, 2, 1, 2, NA,…
$ au_db9                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, 2, 1, 1, NA,…
$ q186                  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q186_8_text           &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb2                  &lt;chr&gt; "1,2,5", NA, NA, NA, NA, "1,2", "6", NA, NA, NA,…
$ psb3                  &lt;dbl&gt; 1, NA, NA, NA, NA, 4, 4, NA, NA, NA, NA, NA, NA,…
$ psb4                  &lt;dbl&gt; 1, NA, NA, NA, NA, 4, 4, NA, NA, NA, NA, NA, NA,…
$ psb5                  &lt;dbl&gt; 2, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ psb6                  &lt;dbl&gt; 2, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ psb8                  &lt;dbl&gt; 2, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ psb9                  &lt;dbl&gt; 2, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
$ psb10                 &lt;dbl&gt; 2, NA, NA, NA, NA, 2, 2, NA, NA, NA, NA, NA, NA,…
$ psb10_only_one        &lt;dbl&gt; 1, NA, NA, NA, NA, 1, NA, NA, NA, NA, NA, NA, NA…
$ psb11_only_one        &lt;dbl&gt; 1, NA, NA, NA, NA, 1, NA, NA, NA, NA, NA, NA, NA…
$ psb11_tried           &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb12_only_one        &lt;dbl&gt; 4, NA, NA, NA, NA, 4, NA, NA, NA, NA, NA, NA, NA…
$ psb12_tried           &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q211                  &lt;chr&gt; "1", NA, NA, NA, NA, "1", "2", NA, NA, NA, NA, N…
$ q211_7_text           &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb13                 &lt;dbl&gt; 1, NA, NA, NA, NA, 1, NA, NA, NA, NA, NA, NA, NA…
$ q198_1                &lt;dbl&gt; 0, NA, NA, NA, NA, 0, 99, NA, NA, NA, NA, NA, NA…
$ psb14_only_one_1      &lt;dbl&gt; 0, NA, NA, NA, NA, 0, 97, NA, NA, NA, NA, NA, NA…
$ psb13_tried           &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb_selfdrunk_tried_1 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb14_tried_1         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb15                 &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb15_10_text         &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb15_tried           &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb15_tried_10_text   &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb16                 &lt;dbl&gt; 0, NA, NA, NA, NA, 0, NA, NA, NA, NA, NA, NA, NA…
$ psb16_10_text         &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb16_tried           &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb16_tried_10_text   &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ pbs17_2               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ pbs17_3               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ pbs17_4               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ pbs17_5               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb18_to_23_1         &lt;dbl&gt; 10, NA, NA, NA, NA, 6, NA, NA, NA, NA, NA, NA, N…
$ psb18_to_23_2         &lt;dbl&gt; 10, NA, NA, NA, NA, 4, NA, NA, NA, NA, NA, NA, N…
$ psb18_to_23_3         &lt;dbl&gt; 10, NA, NA, NA, NA, 10, NA, NA, NA, NA, NA, NA, …
$ q141_1                &lt;dbl&gt; 10, NA, NA, NA, NA, 0, NA, NA, NA, NA, NA, NA, N…
$ q141_2                &lt;dbl&gt; 10, NA, NA, NA, NA, 10, NA, NA, NA, NA, NA, NA, …
$ q141_3                &lt;dbl&gt; 10, NA, NA, NA, NA, 10, NA, NA, NA, NA, NA, NA, …
$ pbs28_31_1            &lt;dbl&gt; 1, NA, NA, NA, NA, 1, NA, NA, NA, NA, NA, NA, NA…
$ pbs28_31_2            &lt;dbl&gt; 1, NA, NA, NA, NA, 1, NA, NA, NA, NA, NA, NA, NA…
$ pbs28_31_3            &lt;dbl&gt; 1, NA, NA, NA, NA, 1, NA, NA, NA, NA, NA, NA, NA…
$ pbs28_31_4            &lt;dbl&gt; 1, NA, NA, NA, NA, 1, NA, NA, NA, NA, NA, NA, NA…
$ psb24_to_27_1         &lt;dbl&gt; 1, NA, NA, NA, NA, 1, NA, NA, NA, NA, NA, NA, NA…
$ psb24_to_27_2         &lt;dbl&gt; 1, NA, NA, NA, NA, 1, NA, NA, NA, NA, NA, NA, NA…
$ psb24_to_27_3         &lt;dbl&gt; 1, NA, NA, NA, NA, 1, NA, NA, NA, NA, NA, NA, NA…
$ psb24_to_27_4         &lt;dbl&gt; 1, NA, NA, NA, NA, 1, NA, NA, NA, NA, NA, NA, NA…
$ psb32_1               &lt;dbl&gt; 5, NA, NA, NA, NA, 2, NA, NA, NA, NA, NA, NA, NA…
$ psb33_1               &lt;dbl&gt; 1, NA, NA, NA, NA, 1, NA, NA, NA, NA, NA, NA, NA…
$ psb34_1_to_34_5_1     &lt;dbl&gt; 4, NA, NA, NA, NA, 3, NA, NA, NA, NA, NA, NA, NA…
$ psb34_1_to_34_5_2     &lt;dbl&gt; 0, NA, NA, NA, NA, 0, NA, NA, NA, NA, NA, NA, NA…
$ psb34_1_to_34_5_3     &lt;dbl&gt; 0, NA, NA, NA, NA, 0, NA, NA, NA, NA, NA, NA, NA…
$ psb34_1_to_34_5_4     &lt;dbl&gt; 0, NA, NA, NA, NA, 0, NA, NA, NA, NA, NA, NA, NA…
$ psb34_1_to_34_5_5     &lt;dbl&gt; 0, NA, NA, NA, NA, 0, NA, NA, NA, NA, NA, NA, NA…
$ psb34_1_to_34_5_6     &lt;dbl&gt; 0, NA, NA, NA, NA, 0, NA, NA, NA, NA, NA, NA, NA…
$ psb34_1_to_34_5_7     &lt;dbl&gt; 4, NA, NA, NA, NA, 3, NA, NA, NA, NA, NA, NA, NA…
$ psb34                 &lt;dbl&gt; 2, NA, NA, NA, NA, 2, NA, NA, NA, NA, NA, NA, NA…
$ psb35                 &lt;dbl&gt; 2, NA, NA, NA, NA, 2, NA, NA, NA, NA, NA, NA, NA…
$ psb36                 &lt;dbl&gt; 2, NA, NA, NA, NA, 2, NA, NA, NA, NA, NA, NA, NA…
$ psb37                 &lt;dbl&gt; 2, NA, NA, NA, NA, 2, NA, NA, NA, NA, NA, NA, NA…
$ osbb2                 &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, "5", NA, NA, "4,…
$ osbb2_13_text         &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb3                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, 2, NA, NA, 2, 2,…
$ osbb4                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, 2, NA, NA, 1, 1,…
$ osbb5                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, 1…
$ osbb6                 &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, "0", NA, NA, "0"…
$ osbb6_5_text          &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb7                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb7_5_text          &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb8                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, 2, NA, NA, 1, 2,…
$ osbb9                 &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb10_11             &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb10_11_10_text     &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb12_to_13_1        &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb12_to_13_2        &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb14                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, 2, NA, NA, 2, 2,…
$ osbb15                &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb15_5_text         &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb16_1              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, 1…
$ osbb17_1              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 2, 3…
$ osbb18_1_to_5_1       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb18_1_to_5_2       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb18_1_to_5_3       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb18_1_to_5_4       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb18_1_to_5_5       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb18_1_to_5_6       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb18_1_to_5_7       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb19                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, 1…
$ osbb20                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, 1…
$ osbb21                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, 1…
$ osbb22                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 2, 2…
$ ssab2                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, 1, NA, NA, NA, NA, 1…
$ ssab3                 &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, "1,4", NA, NA, NA, N…
$ ssab3_8_text          &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ ssab4                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, 2, NA, NA, NA, NA, 1…
$ ssab5                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, 1, NA, NA, NA, NA, 1…
$ ssab6_7               &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ ssab6_7_10_text       &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ ssab8_to_9_1          &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, 5, NA, NA, NA, NA, 5…
$ ssab8_to_9_2          &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, 3, NA, NA, NA, NA, 6…
$ ssab10_1              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ ssab11_1              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, 2, NA, NA, NA, NA, 3…
$ ssab12_1_to_5_1       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, 2, NA, NA, NA, NA, 3…
$ ssab12_1_to_5_2       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, 4, NA, NA, NA, NA, 4…
$ ssab12_1_to_5_3       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, 1, NA, NA, NA, NA, 1…
$ ssab12_1_to_5_4       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, 1, NA, NA, NA, NA, 2…
$ ssab12_1_to_5_5       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, 1, NA, NA, NA, NA, 1…
$ ssab12_1_to_5_6       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, 1, NA, NA, NA, NA, 1…
$ ssab12_1_to_5_7       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, 3, NA, NA, NA, NA, 1…
$ ssab13                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, 1, NA, NA, NA, NA, 1…
$ ssab14                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, 2, NA, NA, NA, NA, 1…
$ ssab15                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, 2, NA, NA, NA, NA, 1…
$ ssab16                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, 1, NA, NA, NA, NA, 2…
$ q215                  &lt;chr&gt; NA, NA, NA, NA, "8", NA, NA, NA, NA, NA, NA, NA,…
$ q215_8_text           &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q212_1                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q212_2                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q212_3                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q212_4                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q195                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q196_1                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q202                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q202_36_text          &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q208                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q208_35_text          &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q210                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q210_34_text          &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q179                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q180                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q181                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ mis1                  &lt;dbl&gt; 2, 2, 2, 2, NA, 1, NA, 1, NA, 2, 3, NA, NA, 1, 2…
$ mis2                  &lt;dbl&gt; 2, 1, 1, 2, NA, 2, NA, 2, NA, 3, 1, NA, NA, 1, 2…
$ mis3                  &lt;dbl&gt; 2, 1, 2, 2, NA, 4, NA, 1, NA, 3, 3, NA, NA, 2, 2…
$ mis4                  &lt;dbl&gt; 2, 2, 2, 2, NA, 1, NA, 1, NA, 1, 3, NA, NA, 1, 2…
$ phq8_1_fu             &lt;dbl&gt; 0, 2, 0, 2, NA, 0, NA, 1, NA, 0, 0, NA, NA, 0, 0…
$ phq8_2_fu             &lt;dbl&gt; 1, 2, 2, 2, NA, 0, NA, 0, NA, 0, 2, NA, NA, 0, 0…
$ phq8_3_fu             &lt;dbl&gt; 1, 2, 2, 2, NA, 0, NA, 1, NA, 0, 2, NA, NA, 1, 0…
$ phq8_4_fu             &lt;dbl&gt; 1, 2, 2, 2, NA, 2, NA, 1, NA, 0, 2, NA, NA, 0, 0…
$ gad_fu_nervous        &lt;dbl&gt; 1, 2, 2, 2, NA, 1, NA, 0, NA, 0, 2, NA, NA, 0, 0…
$ gad_fu_notabletostop  &lt;dbl&gt; 0, 2, 2, 2, NA, 0, NA, 1, NA, 0, 2, NA, NA, 1, 0…
$ b1                    &lt;dbl&gt; 5, 5, 5, 5, NA, 0, NA, 0, NA, 0, 1, NA, NA, 0, 0…
$ c2                    &lt;dbl&gt; 5, 5, 5, 5, NA, 0, NA, 0, NA, 0, 2, NA, NA, 0, 0…
$ d2                    &lt;dbl&gt; 5, 5, 5, 5, NA, 1, NA, 0, NA, 0, 3, NA, NA, 0, 0…
$ e4                    &lt;dbl&gt; 5, 5, 5, 5, NA, 0, NA, 0, NA, 0, 1, NA, NA, 0, 0…</code></pre>
</div>
</div></div>
<p>Duplicates by nid</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [24]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># total duplicates</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>duplicates <span class="sc">%&gt;%</span> </span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(nid) <span class="sc">%&gt;%</span> </span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 92 × 2
# Groups:   nid [92]
       nid     n
     &lt;dbl&gt; &lt;int&gt;
 1 9478839    18
 2 6208949    17
 3 5462581    10
 4 8617355     9
 5 7459356     8
 6 8057415     8
 7 3256800     6
 8 3279665     6
 9 4101260     6
10 6165526     6
# ℹ 82 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># days with duplicates</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>duplicates <span class="sc">%&gt;%</span> </span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(nid, date) <span class="sc">%&gt;%</span></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(nid) <span class="sc">%&gt;%</span> </span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 92 × 2
# Groups:   nid [92]
       nid     n
     &lt;dbl&gt; &lt;int&gt;
 1 9478839     9
 2 6208949     7
 3 5462581     4
 4 7459356     4
 5 8057415     4
 6 8617355     4
 7 3256800     3
 8 3279665     3
 9 4101260     3
10 6165526     3
# ℹ 82 more rows</code></pre>
</div>
</div></div>
<p>99 duplicates remaining</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [25]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>duplicates <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pid, date) <span class="sc">%&gt;%</span> </span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(data, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"pid"</span>, <span class="st">"date"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(n)) </span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pid, date) <span class="sc">%&gt;%</span> </span>
<span id="cb58-11"><a href="#cb58-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb58-12"><a href="#cb58-12" aria-hidden="true" tabindex="-1"></a>   <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb58-13"><a href="#cb58-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb58-14"><a href="#cb58-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n)) <span class="sc">%&gt;%</span> </span>
<span id="cb58-15"><a href="#cb58-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">n =</span> <span class="cn">Inf</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 99 × 3
            pid date           n
          &lt;dbl&gt; &lt;date&gt;     &lt;int&gt;
 1 101922110450 2022-11-01     3
 2 101922141125 2022-10-21     3
 3 102322233822 2022-11-15     3
 4 101922110450 2022-10-24     2
 5 101922110450 2022-10-30     2
 6 101922110450 2022-11-07     2
 7 101922130136 2022-10-20     2
 8 101922135243 2022-10-20     2
 9 101922140746 2022-10-23     2
10 101922140746 2022-10-24     2
11 101922140746 2022-10-25     2
12 101922140746 2022-10-26     2
13 101922141904 2022-11-03     2
14 101922141904 2022-11-12     2
15 101922142835 2022-10-23     2
16 101922142835 2022-11-05     2
17 101922143628 2022-10-30     2
18 101922143628 2022-11-07     2
19 101922153307 2022-10-28     2
20 101922153946 2022-10-28     2
21 101922155342 2022-10-22     2
22 101922155342 2022-11-08     2
23 101922161011 2022-11-05     2
24 101922161011 2022-11-15     2
25 101922171124 2022-10-24     2
26 101922182323 2022-11-09     2
27 101922185710 2022-10-21     2
28 101922193304 2022-10-30     2
29 101922193841 2022-11-02     2
30 101922201514 2022-11-14     2
31 101922210432 2022-10-24     2
32 101922213135 2022-10-23     2
33 101922213251 2022-10-29     2
34 101922224249 2022-10-27     2
35 101922224249 2022-11-01     2
36 101922224249 2022-11-02     2
37 101922224249 2022-11-15     2
38 101922224506 2022-10-31     2
39 102022065548 2022-10-22     2
40 102022110515 2022-11-14     2
41 102022110515 2022-11-17     2
42 102022122607 2022-10-21     2
43 102022122815 2022-10-29     2
44 102022152756 2022-10-22     2
45 102022154346 2022-10-21     2
46 102022154346 2022-10-28     2
47 102022154346 2022-10-29     2
48 102022154346 2022-11-03     2
49 102022154346 2022-11-04     2
50 102022154346 2022-11-10     2
51 102022154346 2022-11-17     2
52 102022171129 2022-10-28     2
53 102122092657 2022-11-02     2
54 102222211933 2022-11-13     2
55 102322102033 2022-11-08     2
56 102322102033 2022-11-13     2
57 102322162025 2022-11-12     2
58 102322233822 2022-11-02     2
59 102322233822 2022-11-05     2
60 102322233822 2022-11-16     2
61 102322233822 2022-11-17     2
62 102322233822 2022-11-18     2
63 102322233822 2022-11-19     2
64 102422094258 2022-11-01     2
65 102422103204 2022-10-30     2
66 102422103204 2022-11-15     2
67 102422105757 2022-11-01     2
68 102422105757 2022-11-04     2
69 102422110537 2022-10-26     2
70 102422121012 2022-11-10     2
71 102422121135 2022-11-10     2
72 102422121135 2022-11-14     2
73 102422123933 2022-11-05     2
74 102422135924 2022-10-26     2
75 102422152802 2022-11-03     2
76 102422153147 2022-11-04     2
77 102422165350 2022-11-19     2
78 102422191410 2022-11-20     2
79 102422195102 2022-10-26     2
80 102422195102 2022-11-06     2
81 102422204257 2022-10-30     2
82 102422210147 2022-11-05     2
83 102422210147 2022-11-07     2
84 102522173806 2022-10-26     2
85 102622174507 2022-11-03     2
86 102722110650 2022-11-05     2
87 102722110650 2022-11-18     2
88 103022095538 2022-11-20     2
89 110122104427 2022-11-02     2
90 110122110748 2022-11-16     2
91 110122114201 2022-11-14     2
92 110122144106 2022-11-06     2
93 110122144652 2022-11-03     2
94 110122165514 2022-11-11     2
95 110122233630 2022-11-13     2
96 110122233630 2022-11-24     2
97 110422125136 2022-11-17     2
98 110622104537 2022-11-15     2
99 110622210647 2022-11-28     2</code></pre>
</div>
</div></div>
<hr>
<p>Manually inspected remaining duplicates</p>
<p>Check how much time between duplicate surveys</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [26]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>duplicates <span class="sc">%&gt;%</span> </span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(nid, date) <span class="sc">%&gt;%</span> </span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">time_between_dups =</span> <span class="fu">max</span>(start_date) <span class="sc">-</span> <span class="fu">min</span>(start_date)) <span class="sc">%&gt;%</span> </span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(time_between_dups) <span class="sc">%&gt;%</span> </span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">n =</span> <span class="cn">Inf</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'nid'. You can override using the `.groups`
argument.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 99 × 3
# Groups:   nid [64]
       nid date       time_between_dups
     &lt;dbl&gt; &lt;date&gt;     &lt;drtn&gt;           
 1 6691463 2022-10-28    35 secs       
 2 9763528 2022-11-01    37 secs       
 3 8057415 2022-11-15    38 secs       
 4 1419718 2022-10-28    41 secs       
 5 2543679 2022-11-03    41 secs       
 6 9478839 2022-11-04    43 secs       
 7 1215369 2022-11-15    44 secs       
 8 7971058 2022-11-03    44 secs       
 9 3256800 2022-11-10    46 secs       
10 9478839 2022-11-10    46 secs       
11 6616681 2022-11-11    48 secs       
12 8057415 2022-11-01    48 secs       
13 9478839 2022-11-03    48 secs       
14 2050073 2022-11-08    51 secs       
15 9478839 2022-10-29    51 secs       
16 7036968 2022-11-20    54 secs       
17 6208949 2022-11-19    55 secs       
18 7924523 2022-11-12    56 secs       
19 9478839 2022-11-17    57 secs       
20 9763528 2022-11-04    60 secs       
21 5534031 2022-11-05    61 secs       
22 6927064 2022-10-20    66 secs       
23 4101260 2022-10-30    67 secs       
24 7459356 2022-11-18    68 secs       
25 7499319 2022-10-29    71 secs       
26 5928888 2022-10-24    73 secs       
27 6519689 2022-11-07    83 secs       
28 4133427 2022-11-17    87 secs       
29 9478839 2022-10-28    87 secs       
30 6519689 2022-11-05    89 secs       
31 2367248 2022-10-30    95 secs       
32 2540837 2022-10-26    99 secs       
33 6488958 2022-10-22   105 secs       
34 3529631 2022-11-16   111 secs       
35 4520468 2022-11-03   134 secs       
36 9966866 2022-11-28   138 secs       
37 5534031 2022-10-23   140 secs       
38 8617355 2022-11-01   143 secs       
39 1215369 2022-11-05   159 secs       
40 2050073 2022-11-13   160 secs       
41 6165526 2022-11-02   171 secs       
42 9478839 2022-10-21   172 secs       
43 2119083 2022-10-26   198 secs       
44 1661366 2022-10-22   214 secs       
45 9875942 2022-11-14   216 secs       
46 6208949 2022-11-18   226 secs       
47 7689849 2022-11-20   234 secs       
48 4101260 2022-11-07   308 secs       
49 3279665 2022-11-04   309 secs       
50 3992191 2022-10-26   313 secs       
51 2408372 2022-10-21   448 secs       
52 7459356 2022-11-05   641 secs       
53 5462581 2022-10-23  2445 secs       
54 5462581 2022-10-25  4314 secs       
55 6208949 2022-11-17  4875 secs       
56 5692139 2022-11-19  5291 secs       
57 8057415 2022-10-27  6044 secs       
58 6820558 2022-11-15  8249 secs       
59 8294237 2022-10-21  9427 secs       
60 2460338 2022-11-12 10079 secs       
61 9120911 2022-11-01 10100 secs       
62 5462581 2022-10-26 11530 secs       
63 6208949 2022-11-02 13774 secs       
64 3130104 2022-10-28 15103 secs       
65 5462581 2022-10-24 15562 secs       
66 8057415 2022-11-02 17262 secs       
67 5462663 2022-10-20 18403 secs       
68 6208949 2022-11-05 18980 secs       
69 6208949 2022-11-16 19558 secs       
70 8617355 2022-10-30 20230 secs       
71 8061889 2022-10-24 20516 secs       
72 6263279 2022-10-30 20968 secs       
73 1083617 2022-11-24 22039 secs       
74 2940696 2022-11-02 22439 secs       
75 1697880 2022-10-22 22633 secs       
76 4106122 2022-10-23 23624 secs       
77 6208949 2022-11-15 24343 secs       
78 8617355 2022-11-07 24360 secs       
79 1836643 2022-11-06 25095 secs       
80 4990422 2022-11-10 25856 secs       
81 1697880 2022-11-08 26610 secs       
82 3402989 2022-10-29 26941 secs       
83 2342070 2022-11-06 27881 secs       
84 7427277 2022-11-14 28165 secs       
85 6263279 2022-11-15 28195 secs       
86 8617355 2022-10-24 28437 secs       
87 2342070 2022-10-26 29205 secs       
88 4145153 2022-11-09 29436 secs       
89 3256800 2022-11-14 30545 secs       
90 2408889 2022-10-21 31387 secs       
91 1636530 2022-11-02 32301 secs       
92 1083617 2022-11-13 32404 secs       
93 7924523 2022-11-03 33718 secs       
94 9102026 2022-10-30 35043 secs       
95 7569921 2022-11-17 39588 secs       
96 5576329 2022-10-31 39823 secs       
97 2564475 2022-11-13 40048 secs       
98 4133427 2022-11-14 40224 secs       
99 6681525 2022-11-05 45222 secs       </code></pre>
</div>
</div></div>
<p>Look at duplicates more than 3 hours apart (3600 seconds = 1 hour)</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [27]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>duplicates <span class="sc">%&gt;%</span> </span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(nid, date) <span class="sc">%&gt;%</span> </span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">time_between_dups =</span> <span class="fu">max</span>(start_date) <span class="sc">-</span> <span class="fu">min</span>(start_date)) <span class="sc">%&gt;%</span> </span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(time_between_dups) <span class="sc">%&gt;%</span> </span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(time_between_dups <span class="sc">&gt;</span> <span class="dv">10800</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">n =</span> <span class="cn">Inf</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'nid'. You can override using the `.groups`
argument.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 38 × 3
# Groups:   nid [28]
       nid date       time_between_dups
     &lt;dbl&gt; &lt;date&gt;     &lt;drtn&gt;           
 1 5462581 2022-10-26 11530 secs       
 2 6208949 2022-11-02 13774 secs       
 3 3130104 2022-10-28 15103 secs       
 4 5462581 2022-10-24 15562 secs       
 5 8057415 2022-11-02 17262 secs       
 6 5462663 2022-10-20 18403 secs       
 7 6208949 2022-11-05 18980 secs       
 8 6208949 2022-11-16 19558 secs       
 9 8617355 2022-10-30 20230 secs       
10 8061889 2022-10-24 20516 secs       
11 6263279 2022-10-30 20968 secs       
12 1083617 2022-11-24 22039 secs       
13 2940696 2022-11-02 22439 secs       
14 1697880 2022-10-22 22633 secs       
15 4106122 2022-10-23 23624 secs       
16 6208949 2022-11-15 24343 secs       
17 8617355 2022-11-07 24360 secs       
18 1836643 2022-11-06 25095 secs       
19 4990422 2022-11-10 25856 secs       
20 1697880 2022-11-08 26610 secs       
21 3402989 2022-10-29 26941 secs       
22 2342070 2022-11-06 27881 secs       
23 7427277 2022-11-14 28165 secs       
24 6263279 2022-11-15 28195 secs       
25 8617355 2022-10-24 28437 secs       
26 2342070 2022-10-26 29205 secs       
27 4145153 2022-11-09 29436 secs       
28 3256800 2022-11-14 30545 secs       
29 2408889 2022-10-21 31387 secs       
30 1636530 2022-11-02 32301 secs       
31 1083617 2022-11-13 32404 secs       
32 7924523 2022-11-03 33718 secs       
33 9102026 2022-10-30 35043 secs       
34 7569921 2022-11-17 39588 secs       
35 5576329 2022-10-31 39823 secs       
36 2564475 2022-11-13 40048 secs       
37 4133427 2022-11-14 40224 secs       
38 6681525 2022-11-05 45222 secs       </code></pre>
</div>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>duplicates <span class="sc">%&gt;%</span> </span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(nid, date) <span class="sc">%&gt;%</span> </span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">time_between_dups =</span> <span class="fu">max</span>(start_date) <span class="sc">-</span> <span class="fu">min</span>(start_date)) <span class="sc">%&gt;%</span> </span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(time_between_dups <span class="sc">&gt;</span> <span class="dv">10800</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(duplicates, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"nid"</span>, <span class="st">"date"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(nid, date, response_id, progress, <span class="fu">everything</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'nid'. You can override using the `.groups`
argument.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 77
Columns: 194
$ nid                   &lt;dbl&gt; 1083617, 1083617, 1083617, 1083617, 1636530, 163…
$ date                  &lt;date&gt; 2022-11-13, 2022-11-13, 2022-11-24, 2022-11-24,…
$ response_id           &lt;chr&gt; "R_d0WuHXIYc3QHGyl", "R_XLmafrkiyofjB4t", "R_2OS…
$ progress              &lt;dbl&gt; 100, 100, 100, 100, 100, 100, 100, 100, 100, 37,…
$ time_between_dups     &lt;drtn&gt; 32404 secs, 32404 secs, 22039 secs, 22039 secs,…
$ pid                   &lt;dbl&gt; 110122233630, 110122233630, 110122233630, 110122…
$ n                     &lt;int&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, …
$ start_date            &lt;dttm&gt; 2022-11-13 12:31:33, 2022-11-13 21:31:37, 2022-…
$ end_date              &lt;dttm&gt; 2022-11-13 12:32:15, 2022-11-13 21:32:11, 2022-…
$ status                &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
$ ip_address            &lt;chr&gt; "172.225.24.65", "104.28.104.62", "172.225.216.2…
$ duration_in_seconds   &lt;dbl&gt; 42, 34, 60, 29, 44, 37, 121, 45, 59, 26, 39, 47,…
$ finished              &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, …
$ recorded_date         &lt;dttm&gt; 2022-11-13 12:32:15, 2022-11-13 21:32:12, 2022-…
$ recipient_last_name   &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ recipient_first_name  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ recipient_email       &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ external_reference    &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ location_latitude     &lt;dbl&gt; 43.0782, 43.0782, 41.8874, 41.8874, 43.0782, 43.…
$ location_longitude    &lt;dbl&gt; -89.4075, -89.4075, -87.6318, -87.6318, -89.4075…
$ distribution_channel  &lt;chr&gt; "anonymous", "anonymous", "anonymous", "anonymou…
$ user_language         &lt;chr&gt; "EN", "EN", "EN", "EN", "EN", "EN", "EN", "EN", …
$ au_db1                &lt;dbl&gt; 3, 3, 3, 3, 2, 2, 2, 2, 2, 3, 2, 2, 2, 2, 1, 1, …
$ psb1                  &lt;dbl&gt; 3, 3, 3, 3, 2, 2, 2, 2, 2, 3, 2, 2, 1, 1, 2, 2, …
$ osbb1                 &lt;dbl&gt; 3, 3, 3, 3, 2, 2, 2, 2, 2, 3, 2, 2, 2, 2, 2, 2, …
$ ssab1                 &lt;dbl&gt; 3, 3, 3, 3, 2, 2, 2, 2, 2, 3, 2, 2, 2, 2, 2, 2, …
$ drugs_screen_fu       &lt;dbl&gt; 4, 4, 4, 4, 2, 2, 1, 2, 2, 4, 2, 2, 2, 1, 2, 2, …
$ bpa1                  &lt;dbl&gt; 4, 4, 4, 4, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, …
$ porn_screen_fu        &lt;dbl&gt; 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, …
$ au_db2                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ au_db3                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ au_db4                &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ au_db4_7_text         &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ au_db5                &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ au_db5_6_text         &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ au_db6                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ au_db7                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ au_db8                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ au_db9                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q186                  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q186_8_text           &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb2                  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb3                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb4                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb5                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb6                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb8                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb9                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb10                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb10_only_one        &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb11_only_one        &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb11_tried           &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb12_only_one        &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb12_tried           &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q211                  &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q211_7_text           &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb13                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q198_1                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb14_only_one_1      &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb13_tried           &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb_selfdrunk_tried_1 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb14_tried_1         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb15                 &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb15_10_text         &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb15_tried           &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb15_tried_10_text   &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb16                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb16_10_text         &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb16_tried           &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb16_tried_10_text   &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ pbs17_2               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ pbs17_3               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ pbs17_4               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ pbs17_5               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb18_to_23_1         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb18_to_23_2         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb18_to_23_3         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q141_1                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q141_2                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q141_3                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ pbs28_31_1            &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ pbs28_31_2            &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ pbs28_31_3            &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ pbs28_31_4            &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb24_to_27_1         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb24_to_27_2         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb24_to_27_3         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb24_to_27_4         &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb32_1               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb33_1               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb34_1_to_34_5_1     &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb34_1_to_34_5_2     &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb34_1_to_34_5_3     &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb34_1_to_34_5_4     &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb34_1_to_34_5_5     &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb34_1_to_34_5_6     &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb34_1_to_34_5_7     &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb34                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb35                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb36                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ psb37                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb2                 &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb2_13_text         &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb3                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb4                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb5                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb6                 &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb6_5_text          &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb7                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb7_5_text          &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb8                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb9                 &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb10_11             &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb10_11_10_text     &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb12_to_13_1        &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb12_to_13_2        &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb14                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb15                &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb15_5_text         &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb16_1              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb17_1              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb18_1_to_5_1       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb18_1_to_5_2       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb18_1_to_5_3       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb18_1_to_5_4       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb18_1_to_5_5       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb18_1_to_5_6       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb18_1_to_5_7       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb19                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb20                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb21                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ osbb22                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ ssab2                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ ssab3                 &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ ssab3_8_text          &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ ssab4                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ ssab5                 &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ ssab6_7               &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ ssab6_7_10_text       &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ ssab8_to_9_1          &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ ssab8_to_9_2          &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ ssab10_1              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ ssab11_1              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ ssab12_1_to_5_1       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ ssab12_1_to_5_2       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ ssab12_1_to_5_3       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ ssab12_1_to_5_4       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ ssab12_1_to_5_5       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ ssab12_1_to_5_6       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ ssab12_1_to_5_7       &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ ssab13                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ ssab14                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ ssab15                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ ssab16                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q215                  &lt;chr&gt; NA, NA, NA, NA, NA, NA, "1", NA, NA, NA, NA, NA,…
$ q215_8_text           &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q212_1                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q212_2                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q212_3                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q212_4                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q195                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, 2, NA, NA, NA, NA, NA, N…
$ q196_1                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, 1, NA, NA, NA, NA, NA, N…
$ q202                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, 2535, NA, NA, NA, NA, NA…
$ q202_36_text          &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q208                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, 317, NA, NA, NA, NA, NA,…
$ q208_35_text          &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q210                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, 7, NA, NA, NA, NA, NA, N…
$ q210_34_text          &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ q179                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, 2, NA, NA, NA, NA, NA, N…
$ q180                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, 2, NA, NA, NA, NA, NA, N…
$ q181                  &lt;dbl&gt; NA, NA, NA, NA, NA, NA, 2, NA, NA, NA, NA, NA, N…
$ mis1                  &lt;dbl&gt; 3, 1, 3, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, …
$ mis2                  &lt;dbl&gt; 3, 1, 3, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, …
$ mis3                  &lt;dbl&gt; 3, 1, 3, 2, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 4, 3, …
$ mis4                  &lt;dbl&gt; 3, 1, 3, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …
$ phq8_1_fu             &lt;dbl&gt; 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
$ phq8_2_fu             &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, …
$ phq8_3_fu             &lt;dbl&gt; 1, 1, 1, 0, 2, 1, 0, 0, 0, 0, 1, 2, 0, 0, 0, 0, …
$ phq8_4_fu             &lt;dbl&gt; 1, 1, 1, 0, 1, 2, 0, 0, 0, 0, 1, 2, 0, 0, 0, 0, …
$ gad_fu_nervous        &lt;dbl&gt; 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, …
$ gad_fu_notabletostop  &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, …
$ b1                    &lt;dbl&gt; 0, 0, 0, 0, 5, 5, 0, 0, 0, NA, 0, 0, 5, 5, 5, 5,…
$ c2                    &lt;dbl&gt; 0, 0, 0, 0, 5, 5, 5, 0, 0, NA, 0, 0, 5, 5, 5, 5,…
$ d2                    &lt;dbl&gt; 0, 0, 0, 0, 5, 5, 0, 0, 0, NA, 0, 0, 5, 5, 5, 5,…
$ e4                    &lt;dbl&gt; 0, 0, 0, 0, 5, 5, 0, 0, 0, NA, 0, 0, 5, 5, 5, 5,…
$ ssid                  &lt;dbl&gt; 101521080444, 101521080444, 101521080444, 101521…
$ sms                   &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ day                   &lt;dbl&gt; 11, 11, 22, 22, 12, 12, 3, 3, 20, 20, 5, 5, 2, 2…
$ sig                   &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …
$ r_date                &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ time                  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ rt                    &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …
$ time_zone             &lt;dbl&gt; -6, -6, -6, -6, -6, -6, -6, -6, -6, -6, -6, -6, …
$ rid                   &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</code></pre>
</div>
</div></div>
<div class="cell-container"><div class="cell-decorator"><pre>In [28]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>response_id <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"R_117vFnoNfgFOk4D"</span>, <span class="st">"R_d0WuHXIYc3QHGyl"</span>,</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"R_2OSU9MciQO5OGhT"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<p>If progress &lt; 100 and another is 100 remove &lt; 100 duplicate</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [29]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>response_id <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"R_3PzBQDOn70O3RHN"</span>, <span class="st">"R_2VgBsuP6FAg18p7"</span>, </span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"R_2ZQxY4bcYnHkKVT"</span>, <span class="st">"R_2ANi9iaiZrRiK7W"</span>,</span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"R_zYcdQAFTkd4Wf85"</span>, <span class="st">"R_2RUMEtkgHOoKiU9"</span>,</span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"R_0HP8PsuElUEqq4N"</span>, <span class="st">"R_2DZw0MQSQ4Zv2M6"</span>,</span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"R_1Dqyd9EAWF6zkGf"</span>, <span class="st">"R_12KJL68mIqMDtil"</span>,</span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"R_3szg3OAQjR1LWAS"</span>, <span class="st">"R_2t36lXAL1Zxe8VG"</span>,</span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"R_ZIBMUETiZP7IX2F"</span>, <span class="st">"R_1JDaJzJxE3tFhJM"</span>,</span>
<span id="cb70-9"><a href="#cb70-9" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"R_2s0dOdGygUSWdln"</span>, <span class="st">"R_2ysynCwzs7kOGy7"</span>,</span>
<span id="cb70-10"><a href="#cb70-10" aria-hidden="true" tabindex="-1"></a>                             <span class="st">"R_cIyJ7yF1Re01kC5"</span>, <span class="st">"R_3MPXwxSXDlhGQaI"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<div class="cell-container"><div class="cell-decorator"><pre>In [30]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>duplicates <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pid, date) <span class="sc">%&gt;%</span> </span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(data, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"pid"</span>, <span class="st">"date"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(n)) </span>
<span id="cb71-8"><a href="#cb71-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-9"><a href="#cb71-9" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb71-10"><a href="#cb71-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(nid, date) <span class="sc">%&gt;%</span> </span>
<span id="cb71-11"><a href="#cb71-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb71-12"><a href="#cb71-12" aria-hidden="true" tabindex="-1"></a>   <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb71-13"><a href="#cb71-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb71-14"><a href="#cb71-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n)) <span class="sc">%&gt;%</span> </span>
<span id="cb71-15"><a href="#cb71-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">n =</span> <span class="cn">Inf</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 81 × 3
       nid date           n
     &lt;dbl&gt; &lt;date&gt;     &lt;int&gt;
 1 1215369 2022-11-05     2
 2 1215369 2022-11-15     2
 3 1419718 2022-10-28     2
 4 1636530 2022-11-02     2
 5 1661366 2022-10-22     2
 6 1697880 2022-10-22     2
 7 1836643 2022-11-06     2
 8 2050073 2022-11-08     2
 9 2050073 2022-11-13     2
10 2342070 2022-10-26     2
11 2342070 2022-11-06     2
12 2367248 2022-10-30     2
13 2408372 2022-10-21     2
14 2460338 2022-11-12     2
15 2540837 2022-10-26     2
16 2543679 2022-11-03     2
17 2564475 2022-11-13     2
18 3256800 2022-11-10     2
19 3256800 2022-11-14     2
20 3279665 2022-11-04     2
21 3402989 2022-10-29     2
22 3992191 2022-10-26     2
23 4101260 2022-10-30     2
24 4101260 2022-11-07     2
25 4106122 2022-10-23     2
26 4133427 2022-11-14     2
27 4145153 2022-11-09     2
28 4990422 2022-11-10     2
29 5462581 2022-10-23     2
30 5462581 2022-10-24     2
31 5462581 2022-10-25     2
32 5462581 2022-10-26     2
33 5534031 2022-10-23     2
34 5534031 2022-11-05     2
35 5576329 2022-10-31     2
36 5928888 2022-10-24     2
37 6165526 2022-11-02     2
38 6208949 2022-11-02     2
39 6208949 2022-11-05     2
40 6208949 2022-11-15     2
41 6208949 2022-11-16     2
42 6208949 2022-11-17     2
43 6208949 2022-11-18     2
44 6208949 2022-11-19     2
45 6263279 2022-10-30     2
46 6263279 2022-11-15     2
47 6488958 2022-10-22     2
48 6519689 2022-11-05     2
49 6616681 2022-11-11     2
50 6681525 2022-11-05     2
51 6691463 2022-10-28     2
52 6820558 2022-11-15     2
53 7036968 2022-11-20     2
54 7427277 2022-11-14     2
55 7459356 2022-11-05     2
56 7499319 2022-10-29     2
57 7569921 2022-11-17     2
58 7689849 2022-11-20     2
59 7924523 2022-11-03     2
60 7971058 2022-11-03     2
61 8057415 2022-10-27     2
62 8057415 2022-11-01     2
63 8057415 2022-11-02     2
64 8057415 2022-11-15     2
65 8617355 2022-10-24     2
66 8617355 2022-10-30     2
67 8617355 2022-11-01     2
68 8617355 2022-11-07     2
69 9102026 2022-10-30     2
70 9120911 2022-11-01     2
71 9478839 2022-10-21     2
72 9478839 2022-10-28     2
73 9478839 2022-10-29     2
74 9478839 2022-11-03     2
75 9478839 2022-11-04     2
76 9478839 2022-11-10     2
77 9478839 2022-11-17     2
78 9763528 2022-11-01     2
79 9763528 2022-11-04     2
80 9875942 2022-11-14     2
81 9966866 2022-11-28     2</code></pre>
</div>
</div></div>
<p>For final ones, keep first survey (no way to determine which one is more accurate)</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [31]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>first_surveys <span class="ot">&lt;-</span> duplicates <span class="sc">%&gt;%</span> </span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(nid, date) <span class="sc">%&gt;%</span> </span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(date) <span class="sc">%&gt;%</span> </span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span>)</span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>((response_id <span class="sc">%in%</span> duplicates<span class="sc">$</span>response_id <span class="sc">&amp;</span> <span class="sc">!</span>response_id <span class="sc">%in%</span> first_surveys<span class="sc">$</span>response_id) <span class="sc">|</span> (response_id <span class="sc">%in%</span> data<span class="sc">$</span>response_id <span class="sc">&amp;</span> <span class="sc">!</span>response_id <span class="sc">%in%</span> duplicates<span class="sc">$</span>response_id))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<p>All duplicates resolved</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [32]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>duplicates <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(pid, date) <span class="sc">%&gt;%</span> </span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(data, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"pid"</span>, <span class="st">"date"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(n)) </span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-9"><a href="#cb74-9" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb74-10"><a href="#cb74-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(nid, date) <span class="sc">%&gt;%</span> </span>
<span id="cb74-11"><a href="#cb74-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb74-12"><a href="#cb74-12" aria-hidden="true" tabindex="-1"></a>   <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb74-13"><a href="#cb74-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb74-14"><a href="#cb74-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n)) <span class="sc">%&gt;%</span> </span>
<span id="cb74-15"><a href="#cb74-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">n =</span> <span class="cn">Inf</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 0 × 3
# ℹ 3 variables: nid &lt;dbl&gt;, date &lt;date&gt;, n &lt;int&gt;</code></pre>
</div>
</div></div>
</section>
<section id="check-number-of-surveys-per-unique-participant" class="level3">
<h3 class="anchored" data-anchor-id="check-number-of-surveys-per-unique-participant">Check number of surveys per unique participant</h3>
<div class="cell-container"><div class="cell-decorator"><pre>In [33]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(nid) <span class="sc">%&gt;%</span> </span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n)) <span class="sc">%&gt;%</span> </span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="at">n =</span> <span class="cn">Inf</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 278 × 2
# Groups:   nid [278]
        nid     n
      &lt;dbl&gt; &lt;int&gt;
  1 1116912    28
  2 1233417    28
  3 1345823    28
  4 1380031    28
  5 1467855    28
  6 1511672    28
  7 1647832    28
  8 1825351    28
  9 1990323    28
 10 2342070    28
 11 2366456    28
 12 2408372    28
 13 2438808    28
 14 2460338    28
 15 2498010    28
 16 2533661    28
 17 2543679    28
 18 2556255    28
 19 2593949    28
 20 2599578    28
 21 2661324    28
 22 2670563    28
 23 2910945    28
 24 2940696    28
 25 3022217    28
 26 3172284    28
 27 3318722    28
 28 3327924    28
 29 3335799    28
 30 3529631    28
 31 3891409    28
 32 3992191    28
 33 3996167    28
 34 4145153    28
 35 4246865    28
 36 4446116    28
 37 4657804    28
 38 4806000    28
 39 5140108    28
 40 5192497    28
 41 5324913    28
 42 5331998    28
 43 5450114    28
 44 5651000    28
 45 6131734    28
 46 6165526    28
 47 6274396    28
 48 6421110    28
 49 6502474    28
 50 6519689    28
 51 6596593    28
 52 6599061    28
 53 6616681    28
 54 6691463    28
 55 6820558    28
 56 6984860    28
 57 7073507    28
 58 7116982    28
 59 7382649    28
 60 7405248    28
 61 7459356    28
 62 7508456    28
 63 7569921    28
 64 7632488    28
 65 7934390    28
 66 7971058    28
 67 8481865    28
 68 8678274    28
 69 8859146    28
 70 9027426    28
 71 9029525    28
 72 9062890    28
 73 9102026    28
 74 9128298    28
 75 9455308    28
 76 9717347    28
 77 9847438    28
 78 9873261    28
 79 9905778    28
 80 9972029    28
 81 1358998    27
 82 1402312    27
 83 1518803    27
 84 1643241    27
 85 1660041    27
 86 1836643    27
 87 2090184    27
 88 2429597    27
 89 2471256    27
 90 3130104    27
 91 3348257    27
 92 3402989    27
 93 3466068    27
 94 3527473    27
 95 3548894    27
 96 3747194    27
 97 3766694    27
 98 4101260    27
 99 4121794    27
100 4545276    27
101 4588229    27
102 4676616    27
103 4906782    27
104 5135079    27
105 5359974    27
106 5462581    27
107 5462663    27
108 5692139    27
109 5747934    27
110 5884387    27
111 6127959    27
112 6391320    27
113 6414583    27
114 6550244    27
115 6681525    27
116 6801994    27
117 6950592    27
118 7036968    27
119 7251162    27
120 7344696    27
121 7499319    27
122 7689849    27
123 8285764    27
124 8294237    27
125 8365590    27
126 8459076    27
127 8478156    27
128 8705240    27
129 8834697    27
130 8909302    27
131 8938378    27
132 9326580    27
133 9508298    27
134 9698357    27
135 9763528    27
136 9796314    27
137      NA    27
138 1083617    26
139 1208908    26
140 1215369    26
141 1697880    26
142 1709232    26
143 1723975    26
144 2351222    26
145 2367248    26
146 2531227    26
147 2564475    26
148 2638938    26
149 3106333    26
150 3187228    26
151 3244252    26
152 3279665    26
153 3313178    26
154 3533571    26
155 3697375    26
156 4076084    26
157 4520468    26
158 4618069    26
159 4848905    26
160 4961638    26
161 5694464    26
162 5982957    26
163 6208949    26
164 6636171    26
165 6927064    26
166 7109663    26
167 7160162    26
168 7408521    26
169 7766786    26
170 7895886    26
171 8841629    26
172 9243237    26
173 9328313    26
174 9889398    26
175 1636530    25
176 2040727    25
177 2186020    25
178 2656392    25
179 3521909    25
180 3532588    25
181 4427722    25
182 5248008    25
183 5578705    25
184 5629558    25
185 6008813    25
186 7427277    25
187 7931689    25
188 8062828    25
189 8617355    25
190 9740550    25
191 9796568    25
192 9966866    25
193 1224070    24
194 1571982    24
195 1661366    24
196 2148675    24
197 4098382    24
198 4388267    24
199 4511190    24
200 4802760    24
201 5463935    24
202 7643693    24
203 7961030    24
204 8061889    24
205 8890545    24
206 2246413    23
207 3138194    23
208 4435326    23
209 8387833    23
210 8938978    23
211 9478839    23
212 2050073    22
213 2883441    22
214 4287965    22
215 4990422    22
216 5576329    22
217 7119225    22
218 8786098    22
219 9120911    22
220 9693362    22
221 1428771    21
222 2408889    21
223 4133427    21
224 5331904    21
225 5625372    21
226 6488958    21
227 6541740    21
228 2540837    20
229 6191138    20
230 6263279    20
231 8311815    20
232 7255838    19
233 7924523    19
234 5534031    18
235 8057415    18
236 9875942    18
237 1850089    17
238 1948818    17
239 6003079    17
240 7925422    17
241 9724550    17
242 2231600    16
243 3722889    16
244 6063320    16
245 9740303    16
246 9792124    16
247 3915659    14
248 5805070    12
249 6082269    12
250 9226213    12
251 1419718    11
252 3256800    10
253 4444542    10
254 4599849    10
255 7515816    10
256 1523700     9
257 2119083     9
258 7505882     9
259 2612758     8
260 9149757     8
261 1402857     7
262 4106122     7
263 8525021     6
264 1902555     5
265 2852024     5
266 3346412     5
267 5570051     4
268 4511598     3
269 5485060     3
270 5691993     3
271 5928888     3
272 8422286     3
273 3377599     2
274 4163476     2
275 7138629     2
276 2538992     1
277 6891674     1
278 8219175     1</code></pre>
</div>
</div></div>
<section id="mean-number-of-surveys-completed-23.5" class="level4">
<h4 class="anchored" data-anchor-id="mean-number-of-surveys-completed-23.5">Mean number of surveys completed: 23.5</h4>
<div class="cell-container"><div class="cell-decorator"><pre>In [34]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(nid, <span class="at">name =</span> <span class="st">"n_surveys"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_completed =</span> <span class="fu">sum</span>(n_surveys),</span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_possible  =</span> <span class="fu">n</span>() <span class="sc">*</span> <span class="dv">28</span>,</span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_completed  =</span> <span class="fu">mean</span>(n_surveys),</span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">completion_rate =</span> <span class="fu">mean</span>(n_surveys) <span class="sc">/</span> <span class="dv">28</span></span>
<span id="cb78-8"><a href="#cb78-8" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 4
  total_completed total_possible mean_completed completion_rate
            &lt;int&gt;          &lt;dbl&gt;          &lt;dbl&gt;           &lt;dbl&gt;
1            6530           7784           23.5           0.839</code></pre>
</div>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="co"># double-check mean # of surveys </span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span></span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(nid) <span class="sc">%&gt;%</span></span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">avg_surveys_completed =</span> <span class="fu">mean</span>(n))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  avg_surveys_completed
                  &lt;dbl&gt;
1                  23.5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="co"># median, SD, min, max </span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span></span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(nid, <span class="at">name =</span> <span class="st">"n_surveys"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">median_surveys =</span> <span class="fu">median</span>(n_surveys),</span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">sd_surveys     =</span> <span class="fu">sd</span>(n_surveys),</span>
<span id="cb82-7"><a href="#cb82-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">min_surveys    =</span> <span class="fu">min</span>(n_surveys),</span>
<span id="cb82-8"><a href="#cb82-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">max_surveys    =</span> <span class="fu">max</span>(n_surveys),</span>
<span id="cb82-9"><a href="#cb82-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_participants =</span> <span class="fu">n</span>()</span>
<span id="cb82-10"><a href="#cb82-10" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 5
  median_surveys sd_surveys min_surveys max_surveys n_participants
           &lt;dbl&gt;      &lt;dbl&gt;       &lt;int&gt;       &lt;int&gt;          &lt;int&gt;
1             26       6.87           1          28            278</code></pre>
</div>
</div></div>
</section>
</section>
<section id="rename-variables-for-consistency" class="level3">
<h3 class="anchored" data-anchor-id="rename-variables-for-consistency">Rename variables for consistency</h3>
<div class="cell-container"><div class="cell-decorator"><pre>In [35]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">rename_variables</span>(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
</section>
<section id="remove-unnecessary-variables" class="level3">
<h3 class="anchored" data-anchor-id="remove-unnecessary-variables">Remove unnecessary variables</h3>
<p>Either added during cleaning for checks or single value metadata columns</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [36]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span> </span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(r_date, time, rt, rid, ssid, sms, sig,</span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>            recipient_last_name, recipient_first_name, recipient_email,</span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a>            external_reference, distribution_channel, user_language)) <span class="sc">%&gt;%</span> </span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(nid, date) <span class="sc">%&gt;%</span> </span>
<span id="cb85-6"><a href="#cb85-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 6,530
Columns: 179
$ nid                 &lt;dbl&gt; 6891674, 9128298, 3533571, 3766694, 9972029, 87052…
$ date                &lt;date&gt; 2022-10-19, 2022-10-19, 2022-10-19, 2022-10-19, 2…
$ start_date          &lt;dttm&gt; 2022-10-19 10:11:09, 2022-10-19 11:10:25, 2022-10…
$ end_date            &lt;dttm&gt; 2022-10-19 10:13:50, 2022-10-19 11:11:32, 2022-10…
$ status              &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…
$ ip_address          &lt;chr&gt; "72.33.2.202", "35.148.93.36", "72.33.2.165", "72.…
$ progress            &lt;dbl&gt; 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, …
$ duration_in_seconds &lt;dbl&gt; 160, 66, 84, 151, 103, 105, 66, 92, 121, 171, 484,…
$ finished            &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…
$ recorded_date       &lt;dttm&gt; 2022-10-19 10:13:50, 2022-10-19 11:11:32, 2022-10…
$ response_id         &lt;chr&gt; "R_0kqlvefI2O3z3cR", "R_2c1Nih6gyoqYPMo", "R_2scMD…
$ location_latitude   &lt;dbl&gt; 43.0782, 43.0812, 43.0782, 43.0782, 43.0782, 43.07…
$ location_longitude  &lt;dbl&gt; -89.4075, -89.3845, -89.4075, -89.4075, -89.4075, …
$ aub1                &lt;dbl&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 2, 2,…
$ psb1                &lt;dbl&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2,…
$ osb1                &lt;dbl&gt; 1, 2, 2, 2, 2, 2, 2, 2, 2, 1, 3, 2, 2, 2, 1, 2, 1,…
$ ssb1                &lt;dbl&gt; 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 3, 2, 2, 2, 2, 2, 1,…
$ dub1                &lt;dbl&gt; 2, 2, 2, 2, 2, 2, 2, 1, 2, 2, 1, 2, 2, 2, 2, 2, 2,…
$ bpa                 &lt;dbl&gt; 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 2, 2,…
$ pub1                &lt;dbl&gt; 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 3, 2, 2, 2, 2, 2, 1,…
$ au_t                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ au_v                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ au_l                &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ au_loc.txt          &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ au_pbs              &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ au_pbs.txt          &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ au_pg               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ au_dg               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ au_bib              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ au_fib              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ au_drg              &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ q186_8_text         &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ s_act               &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, "1,2,3,4",…
$ cub1                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 2, NA, NA,…
$ cub2                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 2, NA, NA,…
$ cub3                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ cub4                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ cub5                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ cub6                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ group               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 2, NA, NA,…
$ p_gen               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 2, NA, NA,…
$ prec                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, NA,…
$ psb5a               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ fm_r                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 4, NA, NA,…
$ psb6a               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ str_p               &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, "1", NA, N…
$ str_p.txt           &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ drink               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, NA,…
$ intox               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 0, NA, NA,…
$ p_tox               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 0, NA, NA,…
$ psb7a               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ psb8a               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ psb9a               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ psb10               &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, "7", NA, N…
$ psb15_10_text       &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ psb10a              &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ psb15_tried_10_text &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ psb11               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 0, NA, NA,…
$ psb16_10_text       &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ psb11a              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ psb16_tried_10_text &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ med1_p              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 0, NA, NA,…
$ med2_p              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 0, NA, NA,…
$ med3_p              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 0, NA, NA,…
$ med4_p              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, NA,…
$ pls_pf              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 8, NA, NA,…
$ aro_pf              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 10, NA, NA…
$ con_pf              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 10, NA, NA…
$ verb                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 10, NA, NA…
$ enon                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 2, NA, NA,…
$ inon                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 2, NA, NA,…
$ prp_v               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, NA,…
$ prp_p               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, NA,…
$ prp_sf              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, NA,…
$ prp_in              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, NA,…
$ vic_v               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, NA,…
$ vic_p               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, NA,…
$ vic_sf              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, NA,…
$ vic_in              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, NA,…
$ exp_p               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 2, NA, NA,…
$ st_p                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 4, NA, NA,…
$ exci_p              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 0, NA, NA,…
$ angr_p              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 0, NA, NA,…
$ dist_p              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 0, NA, NA,…
$ irri_p              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 0, NA, NA,…
$ empt_p              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 0, NA, NA,…
$ asha_p              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 0, NA, NA,…
$ calm_p              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 4, NA, NA,…
$ er1_p               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, NA,…
$ er2_p               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, NA,…
$ er3_p               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 2, NA, NA,…
$ er4_p               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 2, NA, NA,…
$ osb2                &lt;chr&gt; "4", NA, NA, NA, NA, NA, NA, NA, NA, "4", NA, NA, …
$ osb2.txt            &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ osb3                &lt;dbl&gt; 1, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, NA, NA, …
$ osb4                &lt;dbl&gt; 2, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, NA, NA, …
$ osb5                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, NA, NA,…
$ osb6                &lt;chr&gt; "0", NA, NA, NA, NA, NA, NA, NA, NA, "0", NA, NA, …
$ osb6.txt            &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ osb7                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ osbb7_5_text        &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ osb8                &lt;dbl&gt; 2, NA, NA, NA, NA, NA, NA, NA, NA, 2, NA, NA, NA, …
$ osb9                &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ osb10               &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ osbb10_11_10_text   &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ aro_of              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ pls_of              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ pss                 &lt;dbl&gt; 2, NA, NA, NA, NA, NA, NA, NA, NA, 2, NA, NA, NA, …
$ osbb15              &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ osbb15_5_text       &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ exp_o               &lt;dbl&gt; 1, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, NA, NA, …
$ str_o               &lt;dbl&gt; 3, NA, NA, NA, NA, NA, NA, NA, NA, 1, NA, NA, NA, …
$ pa1_o               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ na1_o               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ na2_o               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ na3_o               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ na4_o               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ pa2_o               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ na5_o               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ er1_o               &lt;dbl&gt; 2, NA, NA, NA, NA, NA, NA, NA, NA, 2, NA, NA, NA, …
$ er2_o               &lt;dbl&gt; 2, NA, NA, NA, NA, NA, NA, NA, NA, 2, NA, NA, NA, …
$ er3_o               &lt;dbl&gt; 2, NA, NA, NA, NA, NA, NA, NA, NA, 2, NA, NA, NA, …
$ er4_o               &lt;dbl&gt; 2, NA, NA, NA, NA, NA, NA, NA, NA, 2, NA, NA, NA, …
$ ssb2                &lt;dbl&gt; NA, NA, NA, 1, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ ssb3                &lt;chr&gt; NA, NA, NA, "3", NA, NA, NA, NA, NA, NA, NA, NA, N…
$ ssb3.txt            &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ ssb4                &lt;dbl&gt; NA, NA, NA, 2, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ ssb5                &lt;dbl&gt; NA, NA, NA, 1, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ ssb6                &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ ssab6_7_10_text     &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ aro_sf              &lt;dbl&gt; NA, NA, NA, 7, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ pls_sf              &lt;dbl&gt; NA, NA, NA, 6, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ exp_s               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ str_s               &lt;dbl&gt; NA, NA, NA, 3, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ pa1_s               &lt;dbl&gt; NA, NA, NA, 4, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ na1_s               &lt;dbl&gt; NA, NA, NA, 1, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ na2_s               &lt;dbl&gt; NA, NA, NA, 1, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ na3_s               &lt;dbl&gt; NA, NA, NA, 1, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ na4_s               &lt;dbl&gt; NA, NA, NA, 1, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ na5_s               &lt;dbl&gt; NA, NA, NA, 1, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ pa2_s               &lt;dbl&gt; NA, NA, NA, 3, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ er1_s               &lt;dbl&gt; NA, NA, NA, 1, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ er2_s               &lt;dbl&gt; NA, NA, NA, 2, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ er3_s               &lt;dbl&gt; NA, NA, NA, 2, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ er4_s               &lt;dbl&gt; NA, NA, NA, 2, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ dub2                &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, "9", NA, NA, NA, NA, N…
$ dub2.txt            &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ med1_d              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ med2_d              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ med3_d              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ med4_d              &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, 1, NA, NA, NA, NA, NA,…
$ exp_d               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ str_d               &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ dub3_bf             &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 327, NA, N…
$ dub3_bf.txt         &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ dub3_du             &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 734, NA, N…
$ dub3_du.txt         &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ dub3_af             &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 733, NA, N…
$ dub3_af.txt         &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ dub4                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ dub5                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ dub6                &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ imp1                &lt;dbl&gt; 1, 1, 2, 3, 1, 1, 2, 3, 1, 2, 1, 1, 1, 1, NA, 1, N…
$ imp2                &lt;dbl&gt; 3, 1, 1, 3, 2, 4, 1, 1, 1, 3, 1, 3, 2, 1, NA, 3, N…
$ imp3                &lt;dbl&gt; 1, 3, 2, 2, 3, 3, 2, 3, 1, 1, 1, 1, 2, 4, NA, 2, N…
$ imp4                &lt;dbl&gt; 2, 1, 1, 4, 2, 1, 2, 2, 1, 1, 1, 1, 1, 1, NA, 1, N…
$ dep1                &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 1, 1, 0, NA, 0, N…
$ dep2                &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, NA, 0, N…
$ insom               &lt;dbl&gt; 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 3, 0, 0, 0, NA, 0, N…
$ fatig               &lt;dbl&gt; 2, 0, 0, 1, 0, 1, 0, 2, 1, 0, 3, 1, 1, 1, NA, 0, N…
$ anx1                &lt;dbl&gt; 0, 2, 1, 1, 1, 1, 0, 2, 0, 0, 2, 1, 1, 0, NA, 1, N…
$ anx2                &lt;dbl&gt; 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 2, 1, 0, 0, NA, 1, N…
$ traum1              &lt;dbl&gt; 5, 0, 2, 0, 0, 1, 0, 1, 0, 0, 5, 0, 0, 5, NA, 0, N…
$ traum2              &lt;dbl&gt; 5, 0, 1, 0, 0, 0, 0, 0, 0, 0, 5, 0, 1, 5, NA, 0, N…
$ traum3              &lt;dbl&gt; 5, 0, 0, 0, 0, 0, 0, 1, 0, 0, 5, 0, 0, 5, NA, 0, N…
$ traum4              &lt;dbl&gt; 5, 0, 0, 1, 0, 1, 0, 0, 0, 0, 5, 0, 0, 5, NA, 1, N…
$ pid                 &lt;dbl&gt; 101822130256, 101822173925, 101822125304, 10182219…
$ day                 &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1,…
$ time_zone           &lt;dbl&gt; -6, -6, -6, -6, -6, -6, -6, -6, -6, -6, -6, -6, -6…</code></pre>
</div>
</div></div>
<p>Items from online and solo sexual behavior blocks, which fall beyond the scope of current project</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [37]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span> </span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(osb2, osb2.txt, osb6<span class="sc">:</span>osbb10_11_10_text, osbb15, osbb15_5_text,</span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>            aro_of, pls_of, pss, exp_o, str_o<span class="sc">:</span>er4_o, ssb3, ssb3.txt,</span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>            ssb6<span class="sc">:</span>er4_s, dub2.txt, med1_d<span class="sc">:</span>exp_d, dub3_bf.txt, dub3_du.txt,</span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a>            dub3_af.txt, status, q186_8_text, au_l<span class="sc">:</span>au_pbs.txt, </span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a>            start_date<span class="sc">:</span>end_date, ip_address, recorded_date, </span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a>            location_latitude, location_longitude, group, psb5a, psb6a<span class="sc">:</span>str_p.txt, </span>
<span id="cb87-8"><a href="#cb87-8" aria-hidden="true" tabindex="-1"></a>            psb7a<span class="sc">:</span>psb15_tried_10_text, psb16_10_text<span class="sc">:</span>psb16_tried_10_text))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
</section>
</section>
<section id="recoding-for-inclusion-criteria" class="level2">
<h2 class="anchored" data-anchor-id="recoding-for-inclusion-criteria">Recoding for inclusion criteria</h2>
<section id="daily-behavioral-screeners" class="level3">
<h3 class="anchored" data-anchor-id="daily-behavioral-screeners">Daily behavioral screeners</h3>
<p>1 = Yes, 0 = No, 3 = Prefer not to say</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [38]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span> </span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(aub1<span class="sc">:</span>pub1, as.numeric)) <span class="sc">%&gt;%</span> </span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(aub1<span class="sc">:</span>psb1, osb1<span class="sc">:</span>ssb1, pub1),</span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a>               <span class="sc">~</span><span class="fu">if_else</span>(.x <span class="sc">==</span> <span class="dv">2</span>, <span class="dv">0</span>, .x)))</span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-6"><a href="#cb88-6" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span>  </span>
<span id="cb88-7"><a href="#cb88-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(dub1<span class="sc">:</span>bpa),</span>
<span id="cb88-8"><a href="#cb88-8" aria-hidden="true" tabindex="-1"></a>               <span class="sc">~</span><span class="fu">case_when</span>(. <span class="sc">==</span> <span class="dv">2</span> <span class="sc">~</span> <span class="dv">0</span>, </span>
<span id="cb88-9"><a href="#cb88-9" aria-hidden="true" tabindex="-1"></a>                          . <span class="sc">==</span> <span class="dv">4</span> <span class="sc">~</span> <span class="dv">3</span>,</span>
<span id="cb88-10"><a href="#cb88-10" aria-hidden="true" tabindex="-1"></a>                          <span class="cn">TRUE</span> <span class="sc">~</span> .)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<p>Dichotomous variables</p>
<p>1 = Yes, 0 = No</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [39]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(</span>
<span id="cb89-3"><a href="#cb89-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(au_pg, au_dg, prec, er1_p, er2_p, er3_p, er4_p),</span>
<span id="cb89-4"><a href="#cb89-4" aria-hidden="true" tabindex="-1"></a>    <span class="sc">~</span> <span class="fu">case_when</span>(</span>
<span id="cb89-5"><a href="#cb89-5" aria-hidden="true" tabindex="-1"></a>      . <span class="sc">==</span> <span class="st">"1"</span> <span class="sc">~</span> <span class="dv">1</span>, <span class="co"># Yes</span></span>
<span id="cb89-6"><a href="#cb89-6" aria-hidden="true" tabindex="-1"></a>      . <span class="sc">==</span> <span class="st">"2"</span> <span class="sc">~</span> <span class="dv">0</span>, <span class="co"># No</span></span>
<span id="cb89-7"><a href="#cb89-7" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.numeric</span>(.)</span>
<span id="cb89-8"><a href="#cb89-8" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb89-9"><a href="#cb89-9" aria-hidden="true" tabindex="-1"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
</section>
<section id="type-of-sexual-activity" class="level3">
<h3 class="anchored" data-anchor-id="type-of-sexual-activity">Type of sexual activity</h3>
<p><code>s_act</code>: What activities occurred? (check all that apply)</p>
<p>Response options:</p>
<ul>
<li>Kissing = 1;</li>
<li>Touching = 2;</li>
<li>Digital penetration (i.e., w/ fingers) = 3;</li>
<li>Oral sex = 4;</li>
<li>Vaginal sex = 5;</li>
<li>Anal sex = 6;</li>
<li>I tried but no sexual contact happened = 7</li>
</ul>
<div class="cell-container"><div class="cell-decorator"><pre>In [40]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span> <span class="fu">select</span>(s_act) <span class="sc">%&gt;%</span> <span class="fu">map</span>(tabyl)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$s_act
     .x[[i]]    n      percent valid_percent
           1   65 0.0099540582   0.123106061
         1,2  112 0.0171516080   0.212121212
       1,2,3   24 0.0036753446   0.045454545
     1,2,3,4   29 0.0044410413   0.054924242
   1,2,3,4,5  128 0.0196018377   0.242424242
 1,2,3,4,5,6    1 0.0001531394   0.001893939
   1,2,3,4,6    8 0.0012251149   0.015151515
     1,2,3,5   47 0.0071975498   0.089015152
   1,2,3,5,6    1 0.0001531394   0.001893939
     1,2,3,6    1 0.0001531394   0.001893939
       1,2,4   19 0.0029096478   0.035984848
     1,2,4,5   19 0.0029096478   0.035984848
     1,2,4,6    1 0.0001531394   0.001893939
       1,2,5   13 0.0019908116   0.024621212
       1,3,5    1 0.0001531394   0.001893939
       1,4,5    1 0.0001531394   0.001893939
         1,5    3 0.0004594181   0.005681818
           2   21 0.0032159265   0.039772727
         2,5    1 0.0001531394   0.001893939
       3,4,5    1 0.0001531394   0.001893939
         3,5    1 0.0001531394   0.001893939
           4    3 0.0004594181   0.005681818
           5    1 0.0001531394   0.001893939
           7   27 0.0041347626   0.051136364
        &lt;NA&gt; 6002 0.9191424196            NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">s_act =</span> <span class="fu">as.character</span>(s_act),</span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">s_act =</span> <span class="fu">case_when</span>(</span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a>           s_act <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"1"</span>, <span class="st">"1,2"</span>, <span class="st">"2"</span>) <span class="sc">~</span> <span class="st">"Contact"</span>,</span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a>           s_act <span class="sc">==</span> <span class="st">"7"</span> <span class="sc">~</span> <span class="st">"Attempt"</span>,</span>
<span id="cb92-6"><a href="#cb92-6" aria-hidden="true" tabindex="-1"></a>           <span class="fu">grepl</span>(<span class="st">"3"</span>, s_act) <span class="sc">|</span> <span class="fu">grepl</span>(<span class="st">"4"</span>, s_act) <span class="sc">|</span> </span>
<span id="cb92-7"><a href="#cb92-7" aria-hidden="true" tabindex="-1"></a>             <span class="fu">grepl</span>(<span class="st">"5"</span>, s_act) <span class="sc">|</span> <span class="fu">grepl</span>(<span class="st">"6"</span>, s_act) <span class="sc">~</span> <span class="st">"Penetration"</span>,</span>
<span id="cb92-8"><a href="#cb92-8" aria-hidden="true" tabindex="-1"></a>           <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">as.character</span>(s_act)))</span>
<span id="cb92-9"><a href="#cb92-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-10"><a href="#cb92-10" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span> <span class="fu">select</span>(s_act) <span class="sc">%&gt;%</span> <span class="fu">map</span>(tabyl)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$s_act
     .x[[i]]    n     percent valid_percent
     Attempt   27 0.004134763    0.05113636
     Contact  198 0.030321593    0.37500000
 Penetration  303 0.046401225    0.57386364
        &lt;NA&gt; 6002 0.919142420            NA</code></pre>
</div>
</div></div>
<p><code>psb_di</code> 0 = Attempted sexual contact; 1 = Contact and/or penetration</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [41]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>d<span class="sc">$</span>psb_di <span class="ot">&lt;-</span> d<span class="sc">$</span>s_act</span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span>   </span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a><span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(psb_di),</span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a>                <span class="sc">~</span>dplyr<span class="sc">::</span><span class="fu">recode</span>(.,</span>
<span id="cb94-6"><a href="#cb94-6" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"Attempt"</span> <span class="ot">=</span> <span class="dv">0</span>,</span>
<span id="cb94-7"><a href="#cb94-7" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"Contact"</span> <span class="ot">=</span> <span class="dv">1</span>,</span>
<span id="cb94-8"><a href="#cb94-8" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"Penetration"</span> <span class="ot">=</span> <span class="dv">1</span>)))</span>
<span id="cb94-9"><a href="#cb94-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-10"><a href="#cb94-10" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span> <span class="fu">select</span>(psb_di) <span class="sc">%&gt;%</span> <span class="fu">map</span>(tabyl)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$psb_di
 .x[[i]]    n     percent valid_percent
       0   27 0.004134763    0.05113636
       1  501 0.076722818    0.94886364
      NA 6002 0.919142420            NA</code></pre>
</div>
</div></div>
</section>
<section id="subset-diary-data" class="level3">
<h3 class="anchored" data-anchor-id="subset-diary-data">Subset diary data</h3>
<p>To only include obs for which the partnered sexual behavior daily screener (psb1) was endorsed AND sexual contact (psb_di) was reported.</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [42]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>data_subset <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(psb1 <span class="sc">==</span> <span class="dv">1</span> <span class="sc">&amp;</span> psb_di <span class="sc">==</span> <span class="dv">1</span>)</span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a>data_subset <span class="sc">%&gt;%</span></span>
<span id="cb96-5"><a href="#cb96-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb96-6"><a href="#cb96-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_obs =</span> <span class="fu">n</span>(),</span>
<span id="cb96-7"><a href="#cb96-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_participants =</span> <span class="fu">n_distinct</span>(nid)</span>
<span id="cb96-8"><a href="#cb96-8" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 2
  n_obs n_participants
  &lt;int&gt;          &lt;int&gt;
1   501            152</code></pre>
</div>
</div></div>
</section>
</section>
<section id="descriptive-checks" class="level2">
<h2 class="anchored" data-anchor-id="descriptive-checks">Descriptive checks</h2>
<section id="missing-diary-data" class="level3">
<h3 class="anchored" data-anchor-id="missing-diary-data">Missing diary data</h3>
<div class="cell-container"><div class="cell-decorator"><pre>In [43]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> data_subset <span class="sc">%&gt;%</span></span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(nid, date, response_id, s_act, aro_pf, pls_pf, day,</span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a>         verb, enon, inon, prec, fm_r, drink, intox, p_tox, bpa)</span>
<span id="cb98-4"><a href="#cb98-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-5"><a href="#cb98-5" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(d))[<span class="fu">colSums</span>(<span class="fu">is.na</span>(d)) <span class="sc">&gt;</span> <span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>aro_pf pls_pf   verb   enon   inon   prec   fm_r  drink 
     2      2      2      2      2      1      2      2 </code></pre>
</div>
</div></div>
<p><em>Outcomes = Verbal and Nonverbal sexual consent cue use</em>.</p>
</section>
<section id="verbal-consent" class="level3">
<h3 class="anchored" data-anchor-id="verbal-consent">Verbal consent</h3>
<p>To what extent did you do the following during the sexual activity?</p>
<p><code>verb</code>: Directly asked your partner or communicated verbally with your partner about consent</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [44]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>psych<span class="sc">::</span><span class="fu">describe</span>(d<span class="sc">$</span>verb)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   vars   n mean   sd median trimmed  mad min max range  skew kurtosis   se
X1    1 499 5.66 4.11      7    5.82 4.45   0  10    10 -0.28     -1.6 0.18</code></pre>
</div>
</div></div>
<div class="cell-container"><div class="cell-decorator"><pre>In [45]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span> <span class="fu">select</span>(verb) <span class="sc">%&gt;%</span> <span class="fu">map</span>(tabyl)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$verb
 .x[[i]]   n     percent valid_percent
       0 121 0.241516966    0.24248497
       1  17 0.033932136    0.03406814
       2  19 0.037924152    0.03807615
       3  25 0.049900200    0.05010020
       4  17 0.033932136    0.03406814
       5  24 0.047904192    0.04809619
       6  18 0.035928144    0.03607214
       7  29 0.057884232    0.05811623
       8  34 0.067864271    0.06813627
       9  29 0.057884232    0.05811623
      10 166 0.331337325    0.33266533
      NA   2 0.003992016            NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(verb) <span class="sc">%&gt;%</span></span>
<span id="cb104-3"><a href="#cb104-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hist</span>(<span class="at">main =</span> <span class="st">"Histogram of Verbal Cues"</span>,</span>
<span id="cb104-4"><a href="#cb104-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">xlab =</span> <span class="st">"Verbal Self-Report"</span>,</span>
<span id="cb104-5"><a href="#cb104-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">col =</span> <span class="st">"lightblue"</span>,</span>
<span id="cb104-6"><a href="#cb104-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">breaks =</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="">
<figure class="figure">
<p class=""><a href="01_clean_cues_files/figure-html/unnamed-chunk-45-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="01_clean_cues_files/figure-html/unnamed-chunk-45-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div></div>
<div class="cell-container"><div class="cell-decorator"><pre>In [46]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="do">#### Verbal - Binned for CLMMs</span></span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span></span>
<span id="cb105-4"><a href="#cb105-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb105-5"><a href="#cb105-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">verb_bins =</span> <span class="fu">cut</span>(</span>
<span id="cb105-6"><a href="#cb105-6" aria-hidden="true" tabindex="-1"></a>      verb,</span>
<span id="cb105-7"><a href="#cb105-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">breaks =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="cn">Inf</span>, <span class="dv">0</span>, <span class="dv">3</span>, <span class="dv">6</span>, <span class="dv">9</span>, <span class="cn">Inf</span>),</span>
<span id="cb105-8"><a href="#cb105-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Not at all"</span>, <span class="st">"A little"</span>, </span>
<span id="cb105-9"><a href="#cb105-9" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"Somewhat"</span>, <span class="st">"Quite a bit"</span>, <span class="st">"Very much"</span>),</span>
<span id="cb105-10"><a href="#cb105-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">right =</span> <span class="cn">TRUE</span>,</span>
<span id="cb105-11"><a href="#cb105-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">include.lowest =</span> <span class="cn">TRUE</span>),</span>
<span id="cb105-12"><a href="#cb105-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">verb_bins =</span> <span class="fu">ordered</span>(verb_bins,</span>
<span id="cb105-13"><a href="#cb105-13" aria-hidden="true" tabindex="-1"></a>                        <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Not at all"</span>, <span class="st">"A little"</span>, </span>
<span id="cb105-14"><a href="#cb105-14" aria-hidden="true" tabindex="-1"></a>                                   <span class="st">"Somewhat"</span>, <span class="st">"Quite a bit"</span>, <span class="st">"Very much"</span>)))</span>
<span id="cb105-15"><a href="#cb105-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb105-16"><a href="#cb105-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Verify</span></span>
<span id="cb105-17"><a href="#cb105-17" aria-hidden="true" tabindex="-1"></a><span class="fu">is.ordered</span>(d<span class="sc">$</span>verb_bins)</span>
<span id="cb105-18"><a href="#cb105-18" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(d<span class="sc">$</span>verb_bins, <span class="at">useNA =</span> <span class="st">"ifany"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
</section>
<section id="explicit-nonverbal" class="level3">
<h3 class="anchored" data-anchor-id="explicit-nonverbal">Explicit nonverbal</h3>
<p>To what extent did you do the following during the sexual activity?</p>
<p><code>enon</code>: Used direct non-verbal signals to communicate with your partner about consent for the sexual activity</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [47]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>psych<span class="sc">::</span><span class="fu">describe</span>(d<span class="sc">$</span>enon)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   vars   n mean   sd median trimmed  mad min max range  skew kurtosis   se
X1    1 499 7.07 3.41      8    7.58 2.97   0  10    10 -0.97    -0.36 0.15</code></pre>
</div>
</div></div>
<div class="cell-container"><div class="cell-decorator"><pre>In [48]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span> <span class="fu">select</span>(enon) <span class="sc">%&gt;%</span> <span class="fu">map</span>(tabyl)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$enon
 .x[[i]]   n     percent valid_percent
       0  57 0.113772455   0.114228457
       1   4 0.007984032   0.008016032
       2  13 0.025948104   0.026052104
       3  10 0.019960080   0.020040080
       4  24 0.047904192   0.048096192
       5  32 0.063872255   0.064128257
       6  26 0.051896208   0.052104208
       7  40 0.079840319   0.080160321
       8  56 0.111776447   0.112224449
       9  40 0.079840319   0.080160321
      10 197 0.393213573   0.394789579
      NA   2 0.003992016            NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(enon) <span class="sc">%&gt;%</span></span>
<span id="cb110-3"><a href="#cb110-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hist</span>(<span class="at">main =</span> <span class="st">"Histogram of Direct Nonverbal"</span>,</span>
<span id="cb110-4"><a href="#cb110-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">xlab =</span> <span class="st">"Direct Nonverbal Self-Report"</span>,</span>
<span id="cb110-5"><a href="#cb110-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">col =</span> <span class="st">"lightblue"</span>,</span>
<span id="cb110-6"><a href="#cb110-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">breaks =</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="">
<figure class="figure">
<p class=""><a href="01_clean_cues_files/figure-html/unnamed-chunk-48-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="01_clean_cues_files/figure-html/unnamed-chunk-48-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div></div>
</section>
<section id="implicit-nonverbal" class="level3">
<h3 class="anchored" data-anchor-id="implicit-nonverbal">Implicit nonverbal</h3>
<p>To what extent did you do the following during the sexual activity?</p>
<p><code>inon_pc</code>: Used subtle signals to communicate with your partner about consent for the sexual activity</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [49]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a>psych<span class="sc">::</span><span class="fu">describe</span>(d<span class="sc">$</span>inon)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   vars   n mean   sd median trimmed  mad min max range  skew kurtosis   se
X1    1 499 6.81 3.62      8    7.25 2.97   0  10    10 -0.82    -0.81 0.16</code></pre>
</div>
</div></div>
<div class="cell-container"><div class="cell-decorator"><pre>In [50]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span> <span class="fu">select</span>(inon) <span class="sc">%&gt;%</span> <span class="fu">map</span>(tabyl)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$inon
 .x[[i]]   n     percent valid_percent
       0  66 0.131736527    0.13226453
       1   8 0.015968064    0.01603206
       2  21 0.041916168    0.04208417
       3  18 0.035928144    0.03607214
       4  18 0.035928144    0.03607214
       5  20 0.039920160    0.04008016
       6  28 0.055888224    0.05611222
       7  31 0.061876248    0.06212425
       8  60 0.119760479    0.12024048
       9  33 0.065868263    0.06613226
      10 196 0.391217565    0.39278557
      NA   2 0.003992016            NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(inon) <span class="sc">%&gt;%</span></span>
<span id="cb115-3"><a href="#cb115-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hist</span>(<span class="at">main =</span> <span class="st">"Histogram of Indirect Nonverbal"</span>,</span>
<span id="cb115-4"><a href="#cb115-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">xlab =</span> <span class="st">"Indirect Nonverbal Self-Report"</span>,</span>
<span id="cb115-5"><a href="#cb115-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">col =</span> <span class="st">"lightblue"</span>,</span>
<span id="cb115-6"><a href="#cb115-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">breaks =</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="">
<figure class="figure">
<p class=""><a href="01_clean_cues_files/figure-html/unnamed-chunk-50-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="01_clean_cues_files/figure-html/unnamed-chunk-50-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div></div>
<section id="correlation-explicit---implicit" class="level4">
<h4 class="anchored" data-anchor-id="correlation-explicit---implicit">Correlation: Explicit - Implicit</h4>
<div class="cell-container"><div class="cell-decorator"><pre>In [51]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">cor</span>(d<span class="sc">$</span>enon, d<span class="sc">$</span>inon, <span class="at">use =</span> <span class="st">"pairwise.complete.obs"</span>), <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.73</code></pre>
</div>
</div></div>
<p>The correlation between the <code>direct</code> and <code>indirect nonverbal</code> consent cue items was <em>r</em> = .73, indicating a strong positive relationship that suggests these items reflect a shared underlying construct. For parsimony and theoretical clarity, these items will be averaged to create a continuous composite score representing overall nonverbal consent communication.</p>
</section>
</section>
<section id="nonverbal-composite" class="level3">
<h3 class="anchored" data-anchor-id="nonverbal-composite">Nonverbal composite</h3>
<p><em>Re-calculate post-imputation</em></p>
<div class="cell-container"><div class="cell-decorator"><pre>In [52]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span></span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span>  <span class="co"># calculate mean score</span></span>
<span id="cb118-3"><a href="#cb118-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">nvrb =</span> <span class="fu">mean</span>(<span class="fu">c</span>(enon,inon)))</span>
<span id="cb118-4"><a href="#cb118-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-5"><a href="#cb118-5" aria-hidden="true" tabindex="-1"></a>psych<span class="sc">::</span><span class="fu">describe</span>(d<span class="sc">$</span>nvrb)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   vars   n mean   sd median trimmed  mad min max range  skew kurtosis   se
X1    1 499 6.94 3.27      8    7.41 2.97   0  10    10 -0.86    -0.48 0.15</code></pre>
</div>
</div></div>
<section id="correlation-verbal---nonverbal" class="level4">
<h4 class="anchored" data-anchor-id="correlation-verbal---nonverbal">Correlation: Verbal - Nonverbal</h4>
<div class="cell-container"><div class="cell-decorator"><pre>In [53]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check correlation between verbal and nonverbal </span></span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">cor</span>(d<span class="sc">$</span>verb, d<span class="sc">$</span>nvrb, <span class="at">use =</span> <span class="st">"pairwise.complete.obs"</span>), <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.12</code></pre>
</div>
</div></div>
<div class="cell-container"><div class="cell-decorator"><pre>In [54]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="do">#### Nonverbal - Binned for CLMMs</span></span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Create ordered bins for nonverbal consent cues</span></span>
<span id="cb122-3"><a href="#cb122-3" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span></span>
<span id="cb122-4"><a href="#cb122-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb122-5"><a href="#cb122-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">nonvb_bins =</span> <span class="fu">cut</span>(</span>
<span id="cb122-6"><a href="#cb122-6" aria-hidden="true" tabindex="-1"></a>      nvrb,</span>
<span id="cb122-7"><a href="#cb122-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">breaks =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="cn">Inf</span>, <span class="dv">0</span>, <span class="dv">3</span>, <span class="dv">6</span>, <span class="dv">9</span>, <span class="cn">Inf</span>),</span>
<span id="cb122-8"><a href="#cb122-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Not at all"</span>, <span class="st">"A little"</span>, </span>
<span id="cb122-9"><a href="#cb122-9" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"Somewhat"</span>, <span class="st">"Quite a bit"</span>, <span class="st">"Very much"</span>),</span>
<span id="cb122-10"><a href="#cb122-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">right =</span> <span class="cn">TRUE</span>,</span>
<span id="cb122-11"><a href="#cb122-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">include.lowest =</span> <span class="cn">TRUE</span></span>
<span id="cb122-12"><a href="#cb122-12" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb122-13"><a href="#cb122-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">nonvb_bins =</span> <span class="fu">ordered</span>(nonvb_bins,</span>
<span id="cb122-14"><a href="#cb122-14" aria-hidden="true" tabindex="-1"></a>                         <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Not at all"</span>, <span class="st">"A little"</span>, </span>
<span id="cb122-15"><a href="#cb122-15" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"Somewhat"</span>, <span class="st">"Quite a bit"</span>, <span class="st">"Very much"</span>)))</span>
<span id="cb122-16"><a href="#cb122-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Verify</span></span>
<span id="cb122-17"><a href="#cb122-17" aria-hidden="true" tabindex="-1"></a><span class="fu">is.ordered</span>(d<span class="sc">$</span>nonvb_bins)</span>
<span id="cb122-18"><a href="#cb122-18" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(d<span class="sc">$</span>nonvb_bins, <span class="at">useNA =</span> <span class="st">"ifany"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
</section>
</section>
<section id="overview-l1-predictors" class="level3">
<h3 class="anchored" data-anchor-id="overview-l1-predictors">Overview L1 predictors</h3>
<section id="sexual-precedent" class="level4">
<h4 class="anchored" data-anchor-id="sexual-precedent">Sexual precedent</h4>
<p><code>prec</code>: Had you ever had sexual contact with this person in the past?</p>
<p>No = 0; Yes = 1</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [55]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span> <span class="fu">select</span>(prec) <span class="sc">%&gt;%</span> <span class="fu">map</span>(tabyl)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$prec
 .x[[i]]   n     percent valid_percent
       0  94 0.187624750         0.188
       1 406 0.810379242         0.812
      NA   1 0.001996008            NA</code></pre>
</div>
</div></div>
</section>
<section id="partner-familiarity-raw" class="level4">
<h4 class="anchored" data-anchor-id="partner-familiarity-raw">Partner familiarity (raw)</h4>
<p><code>fm_r</code>: How did you know this other person?</p>
<p>I didn’t, we just met that day = 1; They are a friend = 2; They are an acquaintance = 3;<br>
They are my current or past dating/intimate partner = 4</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [56]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span> <span class="fu">select</span>(fm_r) <span class="sc">%&gt;%</span> <span class="fu">map</span>(tabyl)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$fm_r
 .x[[i]]   n     percent valid_percent
       1  40 0.079840319    0.08016032
       2  96 0.191616766    0.19238477
       3  27 0.053892216    0.05410822
       4 336 0.670658683    0.67334669
      NA   2 0.003992016            NA</code></pre>
</div>
</div></div>
</section>
<section id="participant-drink-count" class="level4">
<h4 class="anchored" data-anchor-id="participant-drink-count">Participant drink count</h4>
<p><code>drink</code>: How many drinks did you consume prior to or during this activity?</p>
<p>Response options: 0 = 1; 1-2 = 2, 3-4 = 3, 5-6 = 4, 7-9 = 5, 10+ = 6</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [57]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span> <span class="fu">select</span>(drink) <span class="sc">%&gt;%</span> <span class="fu">map</span>(tabyl)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$drink
 .x[[i]]   n     percent valid_percent
       1 311 0.620758483    0.62324649
       2  39 0.077844311    0.07815631
       3  50 0.099800399    0.10020040
       4  48 0.095808383    0.09619238
       5  27 0.053892216    0.05410822
       6  24 0.047904192    0.04809619
      NA   2 0.003992016            NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span></span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">drink =</span> <span class="fu">recode</span>(</span>
<span id="cb129-3"><a href="#cb129-3" aria-hidden="true" tabindex="-1"></a>    drink,</span>
<span id="cb129-4"><a href="#cb129-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">1</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">0</span>,</span>
<span id="cb129-5"><a href="#cb129-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">2</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">1</span>,</span>
<span id="cb129-6"><a href="#cb129-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">3</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">2</span>,</span>
<span id="cb129-7"><a href="#cb129-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">4</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">3</span>,</span>
<span id="cb129-8"><a href="#cb129-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">5</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">4</span>,</span>
<span id="cb129-9"><a href="#cb129-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">6</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">5</span></span>
<span id="cb129-10"><a href="#cb129-10" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb129-11"><a href="#cb129-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-12"><a href="#cb129-12" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb129-13"><a href="#cb129-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(drink) <span class="sc">%&gt;%</span></span>
<span id="cb129-14"><a href="#cb129-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hist</span>(<span class="at">main =</span> <span class="st">"Histogram of Participant Drinks"</span>,</span>
<span id="cb129-15"><a href="#cb129-15" aria-hidden="true" tabindex="-1"></a>       <span class="at">xlab =</span> <span class="st">"Self-Reported Drink Count"</span>,</span>
<span id="cb129-16"><a href="#cb129-16" aria-hidden="true" tabindex="-1"></a>       <span class="at">col =</span> <span class="st">"lightblue"</span>,</span>
<span id="cb129-17"><a href="#cb129-17" aria-hidden="true" tabindex="-1"></a>       <span class="at">breaks =</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="">
<figure class="figure">
<p class=""><a href="01_clean_cues_files/figure-html/unnamed-chunk-57-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img src="01_clean_cues_files/figure-html/unnamed-chunk-57-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div></div>
<ul>
<li>Recode <code>psb_alc</code> from <code>drink</code> such that zero drinks = 0 and &gt;0 drinks = 1</li>
</ul>
<div class="cell-container"><div class="cell-decorator"><pre>In [58]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span></span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">psb_alc =</span> <span class="fu">if_else</span>(drink <span class="sc">==</span> <span class="dv">1</span>, <span class="dv">0</span>, <span class="fu">if_else</span>(drink <span class="sc">&gt;</span> <span class="dv">1</span>, <span class="dv">1</span>, drink)))</span>
<span id="cb130-3"><a href="#cb130-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-4"><a href="#cb130-4" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span> <span class="fu">select</span>(psb_alc) <span class="sc">%&gt;%</span> <span class="fu">map</span>(tabyl)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$psb_alc
 .x[[i]]   n     percent valid_percent
       0 350 0.698602794     0.7014028
       1 149 0.297405190     0.2985972
      NA   2 0.003992016            NA</code></pre>
</div>
</div></div>
<p>Participants endorsed 149 partnered sexual events following alcohol consumption.</p>
</section>
<section id="self-reported-intoxication" class="level4">
<h4 class="anchored" data-anchor-id="self-reported-intoxication">Self-reported intoxication</h4>
<p><code>intox</code>: How intoxicated did you feel right before or during this sexual activity?</p>
<p>Least intoxicated ever felt in life (0) - Most intoxication ever felt in life (100) VAS</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [59]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(psb_alc <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb132-3"><a href="#cb132-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(intox) <span class="sc">%&gt;%</span></span>
<span id="cb132-4"><a href="#cb132-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hist</span>(<span class="at">main =</span> <span class="st">"Histogram of Participant Intoxication"</span>,</span>
<span id="cb132-5"><a href="#cb132-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">xlab =</span> <span class="st">"Self-Reported Intoxication"</span>,</span>
<span id="cb132-6"><a href="#cb132-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">col =</span> <span class="st">"lightblue"</span>,</span>
<span id="cb132-7"><a href="#cb132-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">breaks =</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="">
<figure class="figure">
<p class=""><a href="01_clean_cues_files/figure-html/unnamed-chunk-59-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img src="01_clean_cues_files/figure-html/unnamed-chunk-59-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div></div>
</section>
<section id="perceived-partner-intoxication" class="level4">
<h4 class="anchored" data-anchor-id="perceived-partner-intoxication">Perceived partner intoxication</h4>
<p><code>p_tox</code>: How intoxicated do you think the other person felt right before or during this sexual activity?</p>
<p>Least intoxicated ever felt in life (0) - Most intoxication ever felt in life (100) VAS</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [60]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span></span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(p_tox <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span></span>
<span id="cb133-3"><a href="#cb133-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(p_tox) <span class="sc">%&gt;%</span></span>
<span id="cb133-4"><a href="#cb133-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hist</span>(<span class="at">main =</span> <span class="st">"Histogram of Partner Intoxication"</span>,</span>
<span id="cb133-5"><a href="#cb133-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">xlab =</span> <span class="st">"Perceived Partner Intoxication"</span>,</span>
<span id="cb133-6"><a href="#cb133-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">col =</span> <span class="st">"lightblue"</span>,</span>
<span id="cb133-7"><a href="#cb133-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">breaks =</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="">
<figure class="figure">
<p class=""><a href="01_clean_cues_files/figure-html/unnamed-chunk-60-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6"><img src="01_clean_cues_files/figure-html/unnamed-chunk-60-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div></div>
</section>
<section id="drinking-environments" class="level4">
<h4 class="anchored" data-anchor-id="drinking-environments">Drinking environments</h4>
<p>Bar-or-party attendance pre-encounter</p>
<ul>
<li>NOTE: n = 1 nid (9128298) endorsed “Prefer not to respond” for bpa</li>
<li>treat as missing and impute</li>
</ul>
<div class="cell-container"><div class="cell-decorator"><pre>In [61]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span> <span class="fu">select</span>(bpa) <span class="sc">%&gt;%</span> <span class="fu">map</span>(tabyl)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$bpa
 .x[[i]]   n     percent
       0 318 0.634730539
       1 182 0.363273453
       3   1 0.001996008</code></pre>
</div>
<div class="sourceCode cell-code" id="cb136"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span></span>
<span id="cb136-2"><a href="#cb136-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">bpa =</span> <span class="fu">ifelse</span>(bpa <span class="sc">==</span> <span class="dv">3</span>, <span class="cn">NA</span>, bpa))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
</section>
<section id="sexual-feelings" class="level4">
<h4 class="anchored" data-anchor-id="sexual-feelings">Sexual feelings</h4>
<p><em>Used for measurement validity assessment, not modeled in confirmatory analyses.</em></p>
<p>To what extent did you feel the following during the sexual activity?</p>
<ul>
<li><code>aro_pf</code>: I felt aroused.</li>
</ul>
<div class="cell-container"><div class="cell-decorator"><pre>In [62]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span> <span class="fu">select</span>(aro_pf) <span class="sc">%&gt;%</span> <span class="fu">map</span>(tabyl)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$aro_pf
 .x[[i]]   n     percent valid_percent
       0  24 0.047904192    0.04809619
       1  21 0.041916168    0.04208417
       2  26 0.051896208    0.05210421
       3  22 0.043912176    0.04408818
       4  16 0.031936128    0.03206413
       5  40 0.079840319    0.08016032
       6  32 0.063872255    0.06412826
       7  44 0.087824351    0.08817635
       8  71 0.141716567    0.14228457
       9  32 0.063872255    0.06412826
      10 171 0.341317365    0.34268537
      NA   2 0.003992016            NA</code></pre>
</div>
</div></div>
<ul>
<li><code>pls_pf</code>: I felt pleasure</li>
</ul>
<div class="cell-container"><div class="cell-decorator"><pre>In [63]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span> <span class="fu">select</span>(pls_pf) <span class="sc">%&gt;%</span> <span class="fu">map</span>(tabyl)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$pls_pf
 .x[[i]]   n     percent valid_percent
       0  20 0.039920160    0.04008016
       1  10 0.019960080    0.02004008
       2  10 0.019960080    0.02004008
       3  20 0.039920160    0.04008016
       4  16 0.031936128    0.03206413
       5  42 0.083832335    0.08416834
       6  41 0.081836327    0.08216433
       7  69 0.137724551    0.13827655
       8  70 0.139720559    0.14028056
       9  38 0.075848303    0.07615230
      10 163 0.325349301    0.32665331
      NA   2 0.003992016            NA</code></pre>
</div>
</div></div>
<ul>
<li><strong>Correlation</strong> between arousal and pleasure</li>
</ul>
<div class="cell-container"><div class="cell-decorator"><pre>In [64]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">cor</span>(d<span class="sc">$</span>aro_pf, d<span class="sc">$</span>pls_pf, <span class="at">use =</span> <span class="st">"pairwise.complete.obs"</span>), <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.824</code></pre>
</div>
</div></div>
<ul>
<li><strong>Composite</strong> for encounter-level sexual feelings</li>
</ul>
<div class="cell-container"><div class="cell-decorator"><pre>In [65]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> d <span class="sc">%&gt;%</span></span>
<span id="cb143-2"><a href="#cb143-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span>  <span class="co"># calculate mean score</span></span>
<span id="cb143-3"><a href="#cb143-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">psb_feel =</span> <span class="fu">mean</span>(<span class="fu">c</span>(pls_pf,aro_pf)))</span>
<span id="cb143-4"><a href="#cb143-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb143-5"><a href="#cb143-5" aria-hidden="true" tabindex="-1"></a>psych<span class="sc">::</span><span class="fu">describe</span>(d<span class="sc">$</span>psb_feel)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   vars   n mean   sd median trimmed  mad min max range skew kurtosis   se
X1    1 499 7.11 2.85    7.5    7.47 3.71   0  10    10 -0.8    -0.31 0.13</code></pre>
</div>
</div></div>
</section>
</section>
</section>
<section id="baseline" class="level2">
<h2 class="anchored" data-anchor-id="baseline">Baseline</h2>
<p>Replace sona_id with new ID (<code>nid</code>) to ensure data remains de-identified.</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [66]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="co"># names(base_sona)</span></span>
<span id="cb145-2"><a href="#cb145-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-3"><a href="#cb145-3" aria-hidden="true" tabindex="-1"></a><span class="fu">identical</span>(baseline<span class="sc">$</span>response_id, base_sona<span class="sc">$</span>response_id)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a>base_sona_updated <span class="ot">&lt;-</span> base_sona <span class="sc">%&gt;%</span></span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb147-3"><a href="#cb147-3" aria-hidden="true" tabindex="-1"></a>    baseline <span class="sc">%&gt;%</span> <span class="fu">select</span>(response_id, nid),</span>
<span id="cb147-4"><a href="#cb147-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="st">"response_id"</span></span>
<span id="cb147-5"><a href="#cb147-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb147-6"><a href="#cb147-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-7"><a href="#cb147-7" aria-hidden="true" tabindex="-1"></a>baseline <span class="ot">&lt;-</span> base_sona_updated <span class="sc">%&gt;%</span> </span>
<span id="cb147-8"><a href="#cb147-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(sona_id, sona_id_confirm))</span>
<span id="cb147-9"><a href="#cb147-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-10"><a href="#cb147-10" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(<span class="fu">is.na</span>(baseline<span class="sc">$</span>nid))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
</div></div>
<p>Subset baseline to only include obs for which the same participant ID (nid) also appears in the diary data.</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [67]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a>baseline_subset <span class="ot">&lt;-</span> baseline <span class="sc">%&gt;%</span></span>
<span id="cb149-2"><a href="#cb149-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">semi_join</span>(data, <span class="at">by =</span> <span class="st">"nid"</span>)</span>
<span id="cb149-3"><a href="#cb149-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb149-4"><a href="#cb149-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Check that it worked</span></span>
<span id="cb149-5"><a href="#cb149-5" aria-hidden="true" tabindex="-1"></a><span class="fu">all</span>(baseline_subset<span class="sc">$</span>nid <span class="sc">%in%</span> data<span class="sc">$</span>nid)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div></div>
<p>Further subset baseline to only include obs for participants who reported partnered sexual behavior (psb1) involving sexual contact (psb_di) at least once during the daily diary portion of the study by removing rows from baseline_subset where that nid does not appear in data_subset (i.e., remove participants from baseline with zero psb1 == 1 &amp; psb_di == 1 events).</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [68]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a>base_ana <span class="ot">&lt;-</span> baseline_subset <span class="sc">%&gt;%</span></span>
<span id="cb151-2"><a href="#cb151-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">semi_join</span>(d, <span class="at">by =</span> <span class="st">"nid"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<p>Remove unnecessary variables</p>
<div class="cell-container"><div class="cell-decorator"><pre>In [69]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb152"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> base_ana <span class="sc">%&gt;%</span> </span>
<span id="cb152-2"><a href="#cb152-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(smu_1<span class="sc">:</span>sm_txt, sx_txt, re_txt, ders1<span class="sc">:</span>ders18, sd_txt, po_txt, mu_txt,</span>
<span id="cb152-3"><a href="#cb152-3" aria-hidden="true" tabindex="-1"></a>            sss1<span class="sc">:</span>sss23, cpa1<span class="sc">:</span>v_ar6, apb1<span class="sc">:</span>apb6, phq8_1<span class="sc">:</span>phq8_fu, gad7_1<span class="sc">:</span>gad7_7, </span>
<span id="cb152-4"><a href="#cb152-4" aria-hidden="true" tabindex="-1"></a>            pcl_txt<span class="sc">:</span>pcl_20, sx_trade1<span class="sc">:</span>porn2, au_ven, pcl, sc0, tb2, pcl_s<span class="sc">:</span>hyp_c, </span>
<span id="cb152-5"><a href="#cb152-5" aria-hidden="true" tabindex="-1"></a>            ar_txt, v_uc1<span class="sc">:</span>v_ar6, v_num, v_rev, v_poly, sss_tf, asrs_1<span class="sc">:</span>asrs_6, </span>
<span id="cb152-6"><a href="#cb152-6" aria-hidden="true" tabindex="-1"></a>            ra_txt, cud_6m<span class="sc">:</span>cud8, aud_s<span class="sc">:</span>rma_s, s_life))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<section id="check-for-missing-data" class="level3">
<h3 class="anchored" data-anchor-id="check-for-missing-data">Check for missing data</h3>
<p>NOTE: <code>aud2</code> is missing 4 obs NOTE: check variable coding for <code>race</code></p>
<div class="cell-container"><div class="cell-decorator"><pre>In [70]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(<span class="fu">is.na</span>(b))[<span class="fu">colSums</span>(<span class="fu">is.na</span>(b)) <span class="sc">&gt;</span> <span class="dv">0</span>] <span class="co"># aud2 missing 4 obs</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  race   hisp  f_aid p_grnt    job f_need   fgen   aud2 
     9      1      1      1      1      1      1      4 </code></pre>
</div>
</div></div>
</section>
</section>
<section id="overview-l2-predictors" class="level2">
<h2 class="anchored" data-anchor-id="overview-l2-predictors">Overview L2 predictors</h2>
<section id="social-desirability-bias" class="level3">
<h3 class="anchored" data-anchor-id="social-desirability-bias">Social desirability bias</h3>
<ul>
<li>NOTE: items 1, 3, 5, and 8 are already reverse-coded</li>
<li>NOTE: items 9, 11, 12 and 13 are already reverse-coded</li>
</ul>
<div class="cell-container"><div class="cell-decorator"><pre>In [71]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb155"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a><span class="do">## BIDR (a = .73) </span></span>
<span id="cb155-2"><a href="#cb155-2" aria-hidden="true" tabindex="-1"></a><span class="co"># (1-8) 1 = totally disagree, 8 = totally agree</span></span>
<span id="cb155-3"><a href="#cb155-3" aria-hidden="true" tabindex="-1"></a><span class="co">#  Higher scores reflect greater social desirability bias</span></span>
<span id="cb155-4"><a href="#cb155-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb155-5"><a href="#cb155-5" aria-hidden="true" tabindex="-1"></a><span class="co"># create a character vector for the bidr items</span></span>
<span id="cb155-6"><a href="#cb155-6" aria-hidden="true" tabindex="-1"></a>bidr_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"bidr_1"</span>,<span class="st">"bidr_2"</span>,<span class="st">"bidr_3"</span>,<span class="st">"bidr_4"</span>,<span class="st">"bidr_5"</span>,</span>
<span id="cb155-7"><a href="#cb155-7" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"bidr_6"</span>,<span class="st">"bidr_7"</span>,<span class="st">"bidr_8"</span>,<span class="st">"bidr_9"</span>,<span class="st">"bidr_10"</span>,</span>
<span id="cb155-8"><a href="#cb155-8" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"bidr_11"</span>,<span class="st">"bidr_12"</span>,<span class="st">"bidr_13"</span>,<span class="st">"bidr_14"</span>,<span class="st">"bidr_15"</span>,<span class="st">"bidr_16"</span>)</span>
<span id="cb155-9"><a href="#cb155-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb155-10"><a href="#cb155-10" aria-hidden="true" tabindex="-1"></a><span class="co"># alpha = .73, i.e. &gt; .70, meets standard criterion for reliability</span></span>
<span id="cb155-11"><a href="#cb155-11" aria-hidden="true" tabindex="-1"></a>psych<span class="sc">::</span><span class="fu">alpha</span>(b[, bidr_vector]) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Reliability analysis   
Call: psych::alpha(x = b[, bidr_vector])

  raw_alpha std.alpha G6(smc) average_r S/N   ase mean   sd median_r
      0.73      0.73    0.79      0.14 2.6 0.032  4.7 0.83     0.13

    95% confidence boundaries 
         lower alpha upper
Feldt     0.66  0.73  0.79
Duhachek  0.67  0.73  0.79

 Reliability if an item is dropped:
        raw_alpha std.alpha G6(smc) average_r S/N alpha se var.r med.r
bidr_1       0.71      0.71    0.78      0.14 2.5    0.034 0.020  0.14
bidr_2       0.73      0.73    0.79      0.15 2.7    0.031 0.018  0.14
bidr_3       0.72      0.71    0.77      0.14 2.5    0.033 0.019  0.13
bidr_4       0.73      0.72    0.78      0.15 2.6    0.032 0.020  0.13
bidr_5       0.73      0.73    0.78      0.15 2.6    0.031 0.019  0.14
bidr_6       0.72      0.71    0.77      0.14 2.5    0.033 0.019  0.14
bidr_7       0.71      0.70    0.76      0.14 2.4    0.034 0.018  0.13
bidr_8       0.71      0.71    0.77      0.14 2.4    0.034 0.020  0.13
bidr_9       0.70      0.70    0.76      0.14 2.4    0.035 0.018  0.13
bidr_10      0.73      0.72    0.78      0.15 2.6    0.032 0.020  0.14
bidr_11      0.72      0.72    0.78      0.15 2.6    0.033 0.019  0.13
bidr_12      0.70      0.70    0.76      0.13 2.3    0.035 0.019  0.12
bidr_13      0.70      0.70    0.76      0.13 2.3    0.035 0.018  0.13
bidr_14      0.72      0.72    0.78      0.15 2.6    0.033 0.017  0.14
bidr_15      0.71      0.71    0.77      0.14 2.4    0.034 0.020  0.13
bidr_16      0.71      0.71    0.76      0.14 2.4    0.034 0.016  0.14

 Item statistics 
          n raw.r std.r r.cor r.drop mean  sd
bidr_1  152  0.48  0.46  0.39   0.34  4.7 2.1
bidr_2  152  0.24  0.28  0.20   0.13  5.0 1.5
bidr_3  152  0.46  0.45  0.40   0.33  4.8 2.1
bidr_4  152  0.36  0.37  0.30   0.23  3.3 1.8
bidr_5  152  0.32  0.32  0.23   0.18  4.7 2.0
bidr_6  152  0.40  0.44  0.39   0.29  5.4 1.6
bidr_7  152  0.49  0.53  0.52   0.40  5.7 1.5
bidr_8  152  0.49  0.47  0.42   0.36  4.1 2.0
bidr_9  152  0.56  0.53  0.51   0.43  4.5 2.1
bidr_10 152  0.31  0.35  0.27   0.20  3.7 1.5
bidr_11 152  0.36  0.37  0.30   0.26  7.0 1.6
bidr_12 152  0.57  0.57  0.54   0.46  6.0 1.9
bidr_13 152  0.60  0.58  0.57   0.48  3.8 2.0
bidr_14 152  0.38  0.36  0.31   0.26  3.2 1.7
bidr_15 152  0.51  0.49  0.44   0.37  5.9 2.2
bidr_16 152  0.52  0.50  0.49   0.39  4.1 2.1

Non missing response frequency for each item
           1    2    3    4    5    6    7    8 miss
bidr_1  0.11 0.06 0.14 0.16 0.15 0.12 0.14 0.11    0
bidr_2  0.00 0.03 0.16 0.22 0.20 0.23 0.09 0.07    0
bidr_3  0.06 0.08 0.17 0.18 0.12 0.14 0.12 0.12    0
bidr_4  0.14 0.18 0.34 0.11 0.07 0.13 0.01 0.03    0
bidr_5  0.07 0.06 0.20 0.18 0.12 0.14 0.14 0.09    0
bidr_6  0.02 0.01 0.11 0.18 0.14 0.30 0.15 0.09    0
bidr_7  0.01 0.01 0.06 0.11 0.21 0.32 0.16 0.12    0
bidr_8  0.09 0.14 0.24 0.12 0.15 0.08 0.11 0.07    0
bidr_9  0.10 0.09 0.16 0.17 0.11 0.14 0.16 0.07    0
bidr_10 0.04 0.18 0.31 0.25 0.07 0.07 0.06 0.01    0
bidr_11 0.01 0.01 0.03 0.06 0.05 0.06 0.23 0.56    0
bidr_12 0.02 0.03 0.10 0.07 0.14 0.12 0.26 0.26    0
bidr_13 0.19 0.07 0.22 0.18 0.12 0.07 0.09 0.05    0
bidr_14 0.16 0.22 0.25 0.16 0.08 0.07 0.05 0.01    0
bidr_15 0.03 0.07 0.09 0.09 0.07 0.09 0.23 0.33    0
bidr_16 0.11 0.16 0.20 0.14 0.14 0.07 0.11 0.07    0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb157"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a><span class="do">### Total Scale</span></span>
<span id="cb157-2"><a href="#cb157-2" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> b <span class="sc">%&gt;%</span></span>
<span id="cb157-3"><a href="#cb157-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span></span>
<span id="cb157-4"><a href="#cb157-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">bidr =</span> <span class="fu">sum</span>(bidr_1,bidr_2,bidr_3,bidr_4,bidr_5,</span>
<span id="cb157-5"><a href="#cb157-5" aria-hidden="true" tabindex="-1"></a>                    bidr_6,bidr_7,bidr_8,bidr_9,bidr_10,</span>
<span id="cb157-6"><a href="#cb157-6" aria-hidden="true" tabindex="-1"></a>                    bidr_11,bidr_12,bidr_13,bidr_14,bidr_15,bidr_16))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
</section>
<section id="rape-myth-rejection" class="level3">
<h3 class="anchored" data-anchor-id="rape-myth-rejection">Rape myth rejection</h3>
<div class="cell-container"><div class="cell-decorator"><pre>In [72]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb158"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a><span class="do">## IRMA (a = .80)</span></span>
<span id="cb158-2"><a href="#cb158-2" aria-hidden="true" tabindex="-1"></a><span class="co"># 5 = strongly disagree, 4 = Somewhat..., # 3 = Neither disagree nor agree, </span></span>
<span id="cb158-3"><a href="#cb158-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 2 = Somewhat..., 1 = strongly agree </span></span>
<span id="cb158-4"><a href="#cb158-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Item values summed for total score, with higher scores reflecting </span></span>
<span id="cb158-5"><a href="#cb158-5" aria-hidden="true" tabindex="-1"></a><span class="co"># greater rejection of rape myths</span></span>
<span id="cb158-6"><a href="#cb158-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb158-7"><a href="#cb158-7" aria-hidden="true" tabindex="-1"></a><span class="co"># create a character vector for the irma items</span></span>
<span id="cb158-8"><a href="#cb158-8" aria-hidden="true" tabindex="-1"></a>rma_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"irma1"</span>,<span class="st">"irma2"</span>,<span class="st">"irma3"</span>,<span class="st">"irma4"</span>,<span class="st">"irma5"</span>,<span class="st">"irma6"</span>,<span class="st">"irma7"</span>)</span>
<span id="cb158-9"><a href="#cb158-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb158-10"><a href="#cb158-10" aria-hidden="true" tabindex="-1"></a><span class="co"># alpha = .80, i.e. &gt; .70, meets standard criterion for reliability</span></span>
<span id="cb158-11"><a href="#cb158-11" aria-hidden="true" tabindex="-1"></a>psych<span class="sc">::</span><span class="fu">alpha</span>(b[, rma_vector]) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Reliability analysis   
Call: psych::alpha(x = b[, rma_vector])

  raw_alpha std.alpha G6(smc) average_r S/N   ase mean   sd median_r
       0.8       0.8    0.81      0.36   4 0.023  4.4 0.62     0.36

    95% confidence boundaries 
         lower alpha upper
Feldt     0.75   0.8  0.84
Duhachek  0.76   0.8  0.84

 Reliability if an item is dropped:
      raw_alpha std.alpha G6(smc) average_r S/N alpha se var.r med.r
irma1      0.80      0.80    0.80      0.40 4.1    0.023 0.024  0.41
irma2      0.80      0.80    0.79      0.40 3.9    0.024 0.023  0.41
irma3      0.75      0.75    0.76      0.34 3.0    0.029 0.020  0.29
irma4      0.75      0.75    0.75      0.34 3.1    0.028 0.020  0.29
irma5      0.74      0.74    0.74      0.32 2.9    0.030 0.015  0.28
irma6      0.79      0.78    0.79      0.38 3.6    0.024 0.028  0.39
irma7      0.77      0.78    0.78      0.37 3.5    0.026 0.022  0.29

 Item statistics 
        n raw.r std.r r.cor r.drop mean   sd
irma1 152  0.47  0.54  0.41   0.34  4.7 0.64
irma2 152  0.47  0.57  0.46   0.37  4.8 0.52
irma3 152  0.79  0.76  0.72   0.66  4.1 1.07
irma4 152  0.76  0.75  0.72   0.63  4.2 1.02
irma5 152  0.82  0.80  0.80   0.73  4.5 0.88
irma6 152  0.66  0.63  0.53   0.48  4.3 1.06
irma7 152  0.72  0.66  0.59   0.55  4.0 1.11

Non missing response frequency for each item
         1    2    3    4    5 miss
irma1 0.00 0.02 0.05 0.12 0.82    0
irma2 0.00 0.02 0.01 0.09 0.89    0
irma3 0.02 0.06 0.23 0.20 0.49    0
irma4 0.03 0.04 0.15 0.26 0.53    0
irma5 0.01 0.04 0.10 0.20 0.66    0
irma6 0.01 0.09 0.10 0.18 0.62    0
irma7 0.02 0.08 0.24 0.17 0.49    0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb160"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> b <span class="sc">%&gt;%</span></span>
<span id="cb160-2"><a href="#cb160-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span></span>
<span id="cb160-3"><a href="#cb160-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">irma =</span> <span class="fu">sum</span>(irma1,irma2,irma3,irma4,irma5,irma6,irma7))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
</section>
<section id="alcohol-and-sexual-coercion---personal-attitudes" class="level3">
<h3 class="anchored" data-anchor-id="alcohol-and-sexual-coercion---personal-attitudes">Alcohol and sexual coercion - Personal attitudes</h3>
<p>NOTE: Reverse-coded <code>asc1</code> and <code>asc4</code></p>
<div class="cell-container"><div class="cell-decorator"><pre>In [73]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a>b <span class="sc">%&gt;%</span> <span class="fu">select</span>(asc1<span class="sc">:</span>asc4) <span class="sc">%&gt;%</span> <span class="fu">map</span>(tabyl)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$asc1
 .x[[i]]  n    percent
       1  5 0.03289474
       2 14 0.09210526
       3 16 0.10526316
       4 22 0.14473684
       5 33 0.21710526
       6 19 0.12500000
       7 43 0.28289474

$asc2
 .x[[i]]  n    percent
       1 35 0.23026316
       2 32 0.21052632
       3 24 0.15789474
       4 28 0.18421053
       5 17 0.11184211
       6  6 0.03947368
       7 10 0.06578947

$asc3
 .x[[i]]   n    percent
       1 124 0.81578947
       2  21 0.13815789
       3   3 0.01973684
       4   4 0.02631579

$asc4
 .x[[i]]   n     percent
       1   3 0.019736842
       2   1 0.006578947
       3   1 0.006578947
       4   2 0.013157895
       5   1 0.006578947
       6   5 0.032894737
       7 139 0.914473684</code></pre>
</div>
<div class="sourceCode cell-code" id="cb163"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1" aria-hidden="true" tabindex="-1"></a><span class="co"># reverse-code items 1 and 4</span></span>
<span id="cb163-2"><a href="#cb163-2" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> b <span class="sc">%&gt;%</span>   </span>
<span id="cb163-3"><a href="#cb163-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(asc1, asc4),</span>
<span id="cb163-4"><a href="#cb163-4" aria-hidden="true" tabindex="-1"></a>                <span class="sc">~</span>dplyr<span class="sc">::</span><span class="fu">recode</span>(., </span>
<span id="cb163-5"><a href="#cb163-5" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"1"</span> <span class="ot">=</span> <span class="dv">7</span>,</span>
<span id="cb163-6"><a href="#cb163-6" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"2"</span> <span class="ot">=</span> <span class="dv">6</span>,</span>
<span id="cb163-7"><a href="#cb163-7" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"3"</span> <span class="ot">=</span> <span class="dv">5</span>,</span>
<span id="cb163-8"><a href="#cb163-8" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"4"</span> <span class="ot">=</span> <span class="dv">4</span>,</span>
<span id="cb163-9"><a href="#cb163-9" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"5"</span> <span class="ot">=</span> <span class="dv">3</span>,</span>
<span id="cb163-10"><a href="#cb163-10" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"6"</span> <span class="ot">=</span> <span class="dv">2</span>,</span>
<span id="cb163-11"><a href="#cb163-11" aria-hidden="true" tabindex="-1"></a>                               <span class="st">"7"</span> <span class="ot">=</span> <span class="dv">1</span>)))</span>
<span id="cb163-12"><a href="#cb163-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-13"><a href="#cb163-13" aria-hidden="true" tabindex="-1"></a><span class="co"># create a character vector for the alcohol+coercion items</span></span>
<span id="cb163-14"><a href="#cb163-14" aria-hidden="true" tabindex="-1"></a>ascoer_vec <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"asc2"</span>, <span class="st">"asc3"</span>, <span class="st">"asc4"</span>, </span>
<span id="cb163-15"><a href="#cb163-15" aria-hidden="true" tabindex="-1"></a>                <span class="st">"coer1"</span>, <span class="st">"coer2"</span>,<span class="st">"coer3"</span>,<span class="st">"coer4"</span>,<span class="st">"coer5"</span>,<span class="st">"coer6"</span>)</span>
<span id="cb163-16"><a href="#cb163-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-17"><a href="#cb163-17" aria-hidden="true" tabindex="-1"></a><span class="co"># alpha = .72 &gt; .70 meets standard criterion for reliability</span></span>
<span id="cb163-18"><a href="#cb163-18" aria-hidden="true" tabindex="-1"></a><span class="co"># increased from .67 after dropping asc1</span></span>
<span id="cb163-19"><a href="#cb163-19" aria-hidden="true" tabindex="-1"></a>psych<span class="sc">::</span><span class="fu">alpha</span>(b[, ascoer_vec], <span class="at">check.keys=</span><span class="cn">TRUE</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Reliability analysis   
Call: psych::alpha(x = b[, ascoer_vec], check.keys = TRUE)

  raw_alpha std.alpha G6(smc) average_r S/N   ase mean   sd median_r
      0.72      0.79     0.8      0.29 3.7 0.034  1.5 0.53     0.26

    95% confidence boundaries 
         lower alpha upper
Feldt     0.65  0.72  0.78
Duhachek  0.65  0.72  0.79

 Reliability if an item is dropped:
      raw_alpha std.alpha G6(smc) average_r S/N alpha se var.r med.r
asc2       0.78      0.79    0.80      0.33 3.9    0.026 0.024  0.29
asc3       0.70      0.79    0.79      0.31 3.7    0.037 0.029  0.28
asc4       0.73      0.79    0.80      0.32 3.9    0.032 0.025  0.29
coer1      0.65      0.74    0.74      0.26 2.8    0.042 0.020  0.24
coer2      0.67      0.73    0.74      0.26 2.8    0.039 0.021  0.23
coer3      0.68      0.76    0.77      0.28 3.2    0.039 0.027  0.26
coer4      0.67      0.75    0.76      0.27 3.0    0.040 0.025  0.25
coer5      0.71      0.79    0.80      0.32 3.8    0.035 0.027  0.27
coer6      0.67      0.76    0.77      0.28 3.1    0.040 0.027  0.25

 Item statistics 
        n raw.r std.r r.cor r.drop mean   sd
asc2  152  0.60  0.44  0.33   0.27  3.1 1.78
asc3  152  0.48  0.51  0.40   0.37  1.3 0.63
asc4  152  0.43  0.45  0.33   0.23  1.3 1.05
coer1 152  0.74  0.77  0.77   0.63  1.3 0.92
coer2 152  0.73  0.79  0.80   0.67  1.2 0.54
coer3 152  0.64  0.66  0.61   0.52  1.4 0.83
coer4 152  0.69  0.72  0.69   0.59  1.2 0.71
coer5 152  0.39  0.47  0.35   0.28  1.1 0.60
coer6 152  0.67  0.68  0.63   0.55  1.4 0.90

Non missing response frequency for each item
         1    2    3    4    5    6    7 miss
asc2  0.23 0.21 0.16 0.18 0.11 0.04 0.07    0
asc3  0.82 0.14 0.02 0.03 0.00 0.00 0.00    0
asc4  0.91 0.03 0.01 0.01 0.01 0.01 0.02    0
coer1 0.82 0.11 0.02 0.03 0.01 0.01 0.00    0
coer2 0.82 0.14 0.02 0.01 0.00 0.00 0.00    0
coer3 0.80 0.12 0.03 0.04 0.01 0.00 0.00    0
coer4 0.86 0.09 0.02 0.01 0.01 0.01 0.00    0
coer5 0.93 0.05 0.01 0.01 0.00 0.00 0.01    0
coer6 0.74 0.17 0.04 0.02 0.02 0.01 0.00    0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb165"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb165-1"><a href="#cb165-1" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> b <span class="sc">%&gt;%</span></span>
<span id="cb165-2"><a href="#cb165-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> <span class="co"># calculate summed score</span></span>
<span id="cb165-3"><a href="#cb165-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">asco =</span> <span class="fu">sum</span>(asc2, asc3, asc4, coer1, coer2, </span>
<span id="cb165-4"><a href="#cb165-4" aria-hidden="true" tabindex="-1"></a>                    coer3, coer4, coer5, coer6))</span>
<span id="cb165-5"><a href="#cb165-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb165-6"><a href="#cb165-6" aria-hidden="true" tabindex="-1"></a><span class="co"># create a character vector for just the coercion items</span></span>
<span id="cb165-7"><a href="#cb165-7" aria-hidden="true" tabindex="-1"></a>coer_vec <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"coer1"</span>, <span class="st">"coer2"</span>,<span class="st">"coer3"</span>,<span class="st">"coer4"</span>,<span class="st">"coer5"</span>,<span class="st">"coer6"</span>)</span>
<span id="cb165-8"><a href="#cb165-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb165-9"><a href="#cb165-9" aria-hidden="true" tabindex="-1"></a><span class="co"># alpha = .81 &gt; .70 meets standard criterion for reliability</span></span>
<span id="cb165-10"><a href="#cb165-10" aria-hidden="true" tabindex="-1"></a>psych<span class="sc">::</span><span class="fu">alpha</span>(b[, coer_vec], <span class="at">check.keys=</span><span class="cn">TRUE</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Reliability analysis   
Call: psych::alpha(x = b[, coer_vec], check.keys = TRUE)

  raw_alpha std.alpha G6(smc) average_r S/N   ase mean   sd median_r
      0.81      0.81     0.8      0.42 4.4 0.023  1.3 0.55     0.43

    95% confidence boundaries 
         lower alpha upper
Feldt     0.76  0.81  0.85
Duhachek  0.76  0.81  0.85

 Reliability if an item is dropped:
      raw_alpha std.alpha G6(smc) average_r S/N alpha se  var.r med.r
coer1      0.74      0.75    0.72      0.38 3.1    0.032 0.0155  0.39
coer2      0.76      0.76    0.74      0.39 3.1    0.029 0.0170  0.39
coer3      0.78      0.79    0.77      0.43 3.7    0.027 0.0227  0.46
coer4      0.76      0.77    0.75      0.40 3.4    0.028 0.0227  0.41
coer5      0.82      0.84    0.81      0.50 5.1    0.022 0.0071  0.50
coer6      0.79      0.79    0.77      0.43 3.8    0.025 0.0238  0.44

 Item statistics 
        n raw.r std.r r.cor r.drop mean   sd
coer1 152  0.83  0.82  0.80   0.70  1.3 0.92
coer2 152  0.78  0.80  0.77   0.70  1.2 0.54
coer3 152  0.73  0.71  0.62   0.57  1.4 0.83
coer4 152  0.76  0.76  0.71   0.64  1.2 0.71
coer5 152  0.49  0.53  0.36   0.33  1.1 0.60
coer6 152  0.72  0.70  0.61   0.54  1.4 0.90

Non missing response frequency for each item
         1    2    3    4    5    6    7 miss
coer1 0.82 0.11 0.02 0.03 0.01 0.01 0.00    0
coer2 0.82 0.14 0.02 0.01 0.00 0.00 0.00    0
coer3 0.80 0.12 0.03 0.04 0.01 0.00 0.00    0
coer4 0.86 0.09 0.02 0.01 0.01 0.01 0.00    0
coer5 0.93 0.05 0.01 0.01 0.00 0.00 0.01    0
coer6 0.74 0.17 0.04 0.02 0.02 0.01 0.00    0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb167"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb167-1"><a href="#cb167-1" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> b <span class="sc">%&gt;%</span></span>
<span id="cb167-2"><a href="#cb167-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> <span class="co"># calculate summed score</span></span>
<span id="cb167-3"><a href="#cb167-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">coer =</span> <span class="fu">sum</span>(coer1,coer2,coer3,coer4,coer5,coer6))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
</section>
<section id="perceived-peer-attitudes---alcohol-and-sexual-coercion" class="level3">
<h3 class="anchored" data-anchor-id="perceived-peer-attitudes---alcohol-and-sexual-coercion">Perceived peer attitudes - Alcohol and sexual coercion</h3>
<div class="cell-container"><div class="cell-decorator"><pre>In [74]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb168"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb168-1"><a href="#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create a character vector</span></span>
<span id="cb168-2"><a href="#cb168-2" aria-hidden="true" tabindex="-1"></a>pa_vec <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"pa1"</span>,<span class="st">"pa2"</span>,<span class="st">"pa3"</span>,<span class="st">"pa4"</span>,<span class="st">"pa5"</span>,<span class="st">"pa6"</span>)</span>
<span id="cb168-3"><a href="#cb168-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb168-4"><a href="#cb168-4" aria-hidden="true" tabindex="-1"></a><span class="co"># alpha = .65 &lt; .70</span></span>
<span id="cb168-5"><a href="#cb168-5" aria-hidden="true" tabindex="-1"></a>psych<span class="sc">::</span><span class="fu">alpha</span>(b[, pa_vec], <span class="at">check.keys=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Reliability analysis   
Call: psych::alpha(x = b[, pa_vec], check.keys = TRUE)

  raw_alpha std.alpha G6(smc) average_r S/N   ase mean   sd median_r
      0.65      0.67    0.65      0.25   2 0.041  2.5 0.87     0.27

    95% confidence boundaries 
         lower alpha upper
Feldt     0.56  0.65  0.73
Duhachek  0.57  0.65  0.74

 Reliability if an item is dropped:
    raw_alpha std.alpha G6(smc) average_r S/N alpha se  var.r med.r
pa1      0.65      0.66    0.62      0.28 1.9    0.043 0.0049  0.27
pa2      0.59      0.60    0.58      0.23 1.5    0.049 0.0139  0.27
pa3      0.56      0.58    0.56      0.22 1.4    0.054 0.0121  0.25
pa4      0.64      0.66    0.63      0.28 2.0    0.043 0.0080  0.27
pa5      0.61      0.62    0.59      0.24 1.6    0.046 0.0160  0.27
pa6      0.60      0.63    0.60      0.25 1.7    0.049 0.0137  0.27

 Item statistics 
      n raw.r std.r r.cor r.drop mean   sd
pa1 152  0.42  0.54  0.39   0.27  1.3 0.91
pa2 152  0.63  0.67  0.57   0.46  1.7 1.17
pa3 152  0.74  0.70  0.63   0.51  3.7 1.73
pa4 152  0.60  0.53  0.37   0.32  3.2 1.74
pa5 152  0.56  0.64  0.52   0.40  1.7 1.08
pa6 152  0.68  0.61  0.49   0.42  3.2 1.75

Non missing response frequency for each item
       1    2    3    4    5    6    7 miss
pa1 0.82 0.12 0.03 0.00 0.01 0.02 0.00    0
pa2 0.62 0.21 0.10 0.03 0.02 0.01 0.01    0
pa3 0.15 0.12 0.18 0.21 0.20 0.07 0.07    0
pa4 0.21 0.18 0.19 0.16 0.16 0.05 0.05    0
pa5 0.58 0.22 0.12 0.05 0.03 0.01 0.00    0
pa6 0.21 0.16 0.23 0.15 0.12 0.08 0.05    0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb170"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb170-1"><a href="#cb170-1" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> b <span class="sc">%&gt;%</span></span>
<span id="cb170-2"><a href="#cb170-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span></span>
<span id="cb170-3"><a href="#cb170-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ppat =</span> <span class="fu">sum</span>(pa1, pa2, pa3, pa4, pa5, pa6))</span>
<span id="cb170-4"><a href="#cb170-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb170-5"><a href="#cb170-5" aria-hidden="true" tabindex="-1"></a><span class="fu">cor.test</span>(b<span class="sc">$</span>ppat, b<span class="sc">$</span>asco)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Pearson's product-moment correlation

data:  b$ppat and b$asco
t = 7.903, df = 150, p-value = 5.418e-13
alternative hypothesis: true correlation is not equal to 0
95 percent confidence interval:
 0.4191777 0.6456641
sample estimates:
      cor 
0.5421958 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb172"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb172-1"><a href="#cb172-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cor.test</span>(b<span class="sc">$</span>ppat, b<span class="sc">$</span>coer)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
    Pearson's product-moment correlation

data:  b$ppat and b$coer
t = 5.5978, df = 150, p-value = 1.005e-07
alternative hypothesis: true correlation is not equal to 0
95 percent confidence interval:
 0.2746753 0.5392140
sample estimates:
      cor 
0.4156981 </code></pre>
</div>
</div></div>
</section>
</section>
<section id="save-updated-dataframe" class="level2">
<h2 class="anchored" data-anchor-id="save-updated-dataframe">Save updated dataframe</h2>
<div class="cell-container"><div class="cell-decorator"><pre>In [75]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb174"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb174-1"><a href="#cb174-1" aria-hidden="true" tabindex="-1"></a>b <span class="sc">%&gt;%</span> </span>
<span id="cb174-2"><a href="#cb174-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write_csv</span>(here<span class="sc">::</span><span class="fu">here</span>(path_ready, <span class="st">"base_tst2.csv"</span>))</span>
<span id="cb174-3"><a href="#cb174-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb174-4"><a href="#cb174-4" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(b, here<span class="sc">::</span><span class="fu">here</span>(path_ready, <span class="st">"base_tst2.rds"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
<div class="cell-container"><div class="cell-decorator"><pre>In [76]:</pre></div><div class="cell">
<div class="sourceCode cell-code" id="cb175"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb175-1"><a href="#cb175-1" aria-hidden="true" tabindex="-1"></a>d <span class="sc">%&gt;%</span> </span>
<span id="cb175-2"><a href="#cb175-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">write_csv</span>(here<span class="sc">::</span><span class="fu">here</span>(path_ready, <span class="st">"diary_tst2.csv"</span>))</span>
<span id="cb175-3"><a href="#cb175-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb175-4"><a href="#cb175-4" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(d, here<span class="sc">::</span><span class="fu">here</span>(path_ready, <span class="st">"diary_tst2.rds"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div>
</section>
     </main>
<!-- /main column -->  <script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>  </div> <!-- /content -->  <script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script> 
  
</body></html>